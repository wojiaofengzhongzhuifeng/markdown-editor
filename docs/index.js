/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./demo/index.ts":
/*!***********************!*\
  !*** ./demo/index.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src */ \"./src/index.ts\");\n/* harmony import */ var _src_plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/plugin */ \"./src/plugin/index.ts\");\n\n\nconst container = document.getElementById('myEditor');\nconst undo = document.getElementById('undo');\nif (container) {\n    let editor = new _src__WEBPACK_IMPORTED_MODULE_0__.Editor(container);\n    let witheUndoEditor = (0,_src_plugin__WEBPACK_IMPORTED_MODULE_1__.withUndo)(editor);\n    undo.addEventListener('click', () => {\n        witheUndoEditor.undo();\n    });\n}\n// let editor: Editor;\n// if (container) {\n//   editor = new Editor(container);\n//\n// }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZW1vL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiI7OztBQUErQjtBQUN1QjtBQUV0RCxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDO0FBQzVDLElBQUcsU0FBUyxFQUFDO0lBQ1gsSUFBSSxNQUFNLEdBQUcsSUFBSSx3Q0FBTSxDQUFDLFNBQVMsQ0FBQztJQUNsQyxJQUFJLGVBQWUsR0FBRyxxREFBUSxDQUFDLE1BQU0sQ0FBbUI7SUFDeEQsSUFBSyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxHQUFFLEVBQUU7UUFDbEMsZUFBZSxDQUFDLElBQUksRUFBRTtJQUN4QixDQUFDLENBQUM7Q0FDSDtBQUdELHNCQUFzQjtBQUN0QixtQkFBbUI7QUFDbkIsb0NBQW9DO0FBQ3BDLEVBQUU7QUFDRixJQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL2RlbW8vaW5kZXgudHM/ZTQ0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGl0b3J9IGZyb20gXCIuLi9zcmNcIjtcbmltcG9ydCB7d2l0aFVuZG8sIFdpdGhVbmRvRWRpdG9yfSBmcm9tICcuLi9zcmMvcGx1Z2luJ1xuXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlFZGl0b3InKTtcbmNvbnN0IHVuZG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kbycpXG5pZihjb250YWluZXIpe1xuICBsZXQgZWRpdG9yID0gbmV3IEVkaXRvcihjb250YWluZXIpXG4gIGxldCB3aXRoZVVuZG9FZGl0b3IgPSB3aXRoVW5kbyhlZGl0b3IpIGFzIFdpdGhVbmRvRWRpdG9yXG4gIHVuZG8hLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICB3aXRoZVVuZG9FZGl0b3IudW5kbygpXG4gIH0pXG59XG5cblxuLy8gbGV0IGVkaXRvcjogRWRpdG9yO1xuLy8gaWYgKGNvbnRhaW5lcikge1xuLy8gICBlZGl0b3IgPSBuZXcgRWRpdG9yKGNvbnRhaW5lcik7XG4vL1xuLy8gfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./demo/index.ts\n");

/***/ }),

/***/ "./src/editor/editor.ts":
/*!******************************!*\
  !*** ./src/editor/editor.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Editor\": () => (/* binding */ Editor),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../event */ \"./src/event/index.ts\");\n/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model */ \"./src/model/index.ts\");\n/* harmony import */ var _operation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operation */ \"./src/operation/index.ts\");\n/* harmony import */ var _operation_remove_text_operation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../operation/remove-text-operation */ \"./src/operation/remove-text-operation.ts\");\n/* harmony import */ var _view_source_code_and_preview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../view/source-code-and-preview */ \"./src/view/source-code-and-preview.ts\");\n\n\n\n\n\nclass Editor {\n    target;\n    eventHandler;\n    selectionchangeEventHandler;\n    textModel;\n    selectionModel;\n    view;\n    constructor(target) {\n        this.target = target;\n        this.init();\n    }\n    init() {\n        this.eventHandler = new _event__WEBPACK_IMPORTED_MODULE_0__.KeyboardEventHandler(this); // todo 已解决 这里传this 的作用是什么？this代表 editor 实例，相当于让 Event 引用 editor\n        this.selectionchangeEventHandler = new _event__WEBPACK_IMPORTED_MODULE_0__.SelectionchangeEventHandler(this);\n        this.textModel = new _model__WEBPACK_IMPORTED_MODULE_1__.TextModel(this);\n        this.selectionModel = new _model__WEBPACK_IMPORTED_MODULE_1__.SelectionModel(this);\n        this.view = new _view_source_code_and_preview__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this);\n        this.setAttributeToTarget();\n        this.addAddtionalClassName();\n        this.addAddtionalEmptyTextToTarget(); // 在编辑器末尾新增空格，用于没有内容和换行的时候，有光标\n        this.eventHandler.addEventListener();\n    }\n    insertTextAtCursor(text) {\n        // 1. 通过 selection-model 选取模型判断是否有选区\n        // 2. 生成原子操作，比如删除区间、插入字符串等（Operation） todo Operation 、model、editor 三层如何协作？\n        // 3. 调用 text-model 数据模型，操作数据\n        // 4. 调用selection-model 选取模型更新光标位置\n        const currentSelection = this.selectionModel.getSelection();\n        // 判断当前是否多选文本内容，如果是的话，需要先将多选的文本内容删除，然后执行插入操作\n        if (currentSelection.isMultipleSelect) {\n            let [smallNumber, bigNumber] = [currentSelection.anchorOffset, currentSelection.focusOffset].sort();\n            let op = new _operation_remove_text_operation__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                removeStartIndex: smallNumber + 1,\n                removeEndIndex: bigNumber\n            });\n            this.apply(op);\n        }\n        // 插入内容\n        let op = new _operation__WEBPACK_IMPORTED_MODULE_2__.InsertTextOperation(currentSelection.anchorOffset + 1, text);\n        this.apply(op);\n        // 设置光标位置\n        let insertIndex = this.selectionModel.isSelectionAtLast()\n            ? this.textModel._spacers.length + 1 : currentSelection.anchorOffset + 1;\n        let setSelectionOp = new _operation__WEBPACK_IMPORTED_MODULE_2__.SetSelectionOperation(insertIndex);\n        this.apply(setSelectionOp);\n    }\n    removeTextAtCursor() {\n        const currentSelection = this.selectionModel.getSelection();\n        if (currentSelection.isMultipleSelect) {\n            // 执行删除操作\n            let removeOp = new _operation_remove_text_operation__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                removeStartIndex: currentSelection.anchorOffset + 1,\n                removeEndIndex: currentSelection.focusOffset\n            });\n            this.apply(removeOp);\n            // 设置光标位置\n            let setSelectionOp = new _operation__WEBPACK_IMPORTED_MODULE_2__.SetSelectionOperation(currentSelection.anchorOffset);\n            this.apply(setSelectionOp);\n        }\n        else {\n            // 执行删除操作\n            let removeOp = new _operation_remove_text_operation__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({ removeStartIndex: currentSelection.anchorOffset });\n            this.apply(removeOp);\n            // 设置光标位置\n            let setSelectionOp = new _operation__WEBPACK_IMPORTED_MODULE_2__.SetSelectionOperation(currentSelection.anchorOffset - 1);\n            this.apply(setSelectionOp);\n        }\n    }\n    // todo 为什么要有这个方法？不直接 this.editor.textModel?\n    getTextModel() {\n        return this.textModel;\n    }\n    apply(op) {\n        op.apply(this);\n    }\n    setAttributeToTarget() {\n        this.target.style['white-space'] = 'pre-wrap';\n        this.target.style['padding'] = '10px 20px';\n        this.target.setAttribute(\"contenteditable\", 'true');\n    }\n    addAddtionalEmptyTextToTarget() {\n        let style = document.createElement('style');\n        style.innerText = `#${this.target.id}::after { content: ' '; }`;\n        document.body.appendChild(style);\n    }\n    addAddtionalClassName() {\n        let style = document.createElement('style');\n        style.innerText = `\n    .rjj-source-code-and-preview{display:flex}\n    .rjj-source-code-and-preview-previewer{flex: 1}\n    .rjj-source-code-and-preview-coder{flex: 1}\n    `;\n        document.body.appendChild(style);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Editor);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0QscUJBQXFCO1FBQ25CLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDNUMsS0FBSyxDQUFDLFNBQVMsR0FBRzs7OztLQUlqQjtRQUNELFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQztJQUNsQyxDQUFDO0NBR0Y7QUFDRCxpRUFBZSxNQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL3NyYy9lZGl0b3IvZWRpdG9yLnRzPzhlMmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtLZXlib2FyZEV2ZW50SGFuZGxlciwgU2VsZWN0aW9uY2hhbmdlRXZlbnRIYW5kbGVyfSBmcm9tIFwiLi4vZXZlbnRcIjtcbmltcG9ydCB7U2VsZWN0aW9uTW9kZWwsIFRleHRNb2RlbH0gZnJvbSBcIi4uL21vZGVsXCI7XG5pbXBvcnQgU291cmNlQ29kZVZpZXcgZnJvbSBcIi4uL3ZpZXcvc291cmNlLWNvZGUtdmlld1wiO1xuaW1wb3J0IHtJbnNlcnRUZXh0T3BlcmF0aW9uLCBTZXRTZWxlY3Rpb25PcGVyYXRpb259IGZyb20gXCIuLi9vcGVyYXRpb25cIjtcbmltcG9ydCBSZW1vdmVUZXh0T3BlcmF0aW9uIGZyb20gXCIuLi9vcGVyYXRpb24vcmVtb3ZlLXRleHQtb3BlcmF0aW9uXCI7XG5pbXBvcnQgT3BlcmF0aW9uIGZyb20gXCIuLi9vcGVyYXRpb24vb3BlcmF0aW9uXCI7XG5pbXBvcnQgU291cmNlQ29kZUFuZFByZXZpZXcgZnJvbSBcIi4uL3ZpZXcvc291cmNlLWNvZGUtYW5kLXByZXZpZXdcIjtcblxuZXhwb3J0IGNsYXNzIEVkaXRvcntcbiAgdGFyZ2V0OiBIVE1MRWxlbWVudFxuICBldmVudEhhbmRsZXI6IEtleWJvYXJkRXZlbnRIYW5kbGVyXG4gIHNlbGVjdGlvbmNoYW5nZUV2ZW50SGFuZGxlcjogU2VsZWN0aW9uY2hhbmdlRXZlbnRIYW5kbGVyXG4gIHRleHRNb2RlbDogVGV4dE1vZGVsXG4gIHNlbGVjdGlvbk1vZGVsOiBTZWxlY3Rpb25Nb2RlbFxuICB2aWV3OiBTb3VyY2VDb2RlVmlld1xuXG5cbiAgY29uc3RydWN0b3IodGFyZ2V0OiBIVE1MRWxlbWVudCkge1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0XG4gICAgdGhpcy5pbml0KClcbiAgfVxuICBpbml0KCl7XG4gICAgdGhpcy5ldmVudEhhbmRsZXIgPSBuZXcgS2V5Ym9hcmRFdmVudEhhbmRsZXIodGhpcykvLyB0b2RvIOW3suino+WGsyDov5nph4zkvKB0aGlzIOeahOS9nOeUqOaYr+S7gOS5iO+8n3RoaXPku6PooaggZWRpdG9yIOWunuS+i++8jOebuOW9k+S6juiuqSBFdmVudCDlvJXnlKggZWRpdG9yXG4gICAgdGhpcy5zZWxlY3Rpb25jaGFuZ2VFdmVudEhhbmRsZXIgPSBuZXcgU2VsZWN0aW9uY2hhbmdlRXZlbnRIYW5kbGVyKHRoaXMpXG4gICAgdGhpcy50ZXh0TW9kZWwgPSBuZXcgVGV4dE1vZGVsKHRoaXMpXG4gICAgdGhpcy5zZWxlY3Rpb25Nb2RlbCA9IG5ldyBTZWxlY3Rpb25Nb2RlbCh0aGlzKVxuICAgIHRoaXMudmlldyA9IG5ldyBTb3VyY2VDb2RlQW5kUHJldmlldyh0aGlzKVxuXG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVUb1RhcmdldCgpXG4gICAgdGhpcy5hZGRBZGR0aW9uYWxDbGFzc05hbWUoKVxuICAgIHRoaXMuYWRkQWRkdGlvbmFsRW1wdHlUZXh0VG9UYXJnZXQoKSAvLyDlnKjnvJbovpHlmajmnKvlsL7mlrDlop7nqbrmoLzvvIznlKjkuo7msqHmnInlhoXlrrnlkozmjaLooYznmoTml7blgJnvvIzmnInlhYnmoIdcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIoKVxuICB9XG4gIGluc2VydFRleHRBdEN1cnNvcih0ZXh0OiBzdHJpbmcpe1xuICAgIC8vIDEuIOmAmui/hyBzZWxlY3Rpb24tbW9kZWwg6YCJ5Y+W5qih5Z6L5Yik5pat5piv5ZCm5pyJ6YCJ5Yy6XG4gICAgLy8gMi4g55Sf5oiQ5Y6f5a2Q5pON5L2c77yM5q+U5aaC5Yig6Zmk5Yy66Ze044CB5o+S5YWl5a2X56ym5Liy562J77yIT3BlcmF0aW9u77yJIHRvZG8gT3BlcmF0aW9uIOOAgW1vZGVs44CBZWRpdG9yIOS4ieWxguWmguS9leWNj+S9nO+8n1xuICAgIC8vIDMuIOiwg+eUqCB0ZXh0LW1vZGVsIOaVsOaNruaooeWei++8jOaTjeS9nOaVsOaNrlxuICAgIC8vIDQuIOiwg+eUqHNlbGVjdGlvbi1tb2RlbCDpgInlj5bmqKHlnovmm7TmlrDlhYnmoIfkvY3nva5cbiAgICBjb25zdCBjdXJyZW50U2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb25Nb2RlbC5nZXRTZWxlY3Rpb24oKVxuXG4gICAgLy8g5Yik5pat5b2T5YmN5piv5ZCm5aSa6YCJ5paH5pys5YaF5a6577yM5aaC5p6c5piv55qE6K+d77yM6ZyA6KaB5YWI5bCG5aSa6YCJ55qE5paH5pys5YaF5a655Yig6Zmk77yM54S25ZCO5omn6KGM5o+S5YWl5pON5L2cXG4gICAgaWYoY3VycmVudFNlbGVjdGlvbi5pc011bHRpcGxlU2VsZWN0KXtcbiAgICAgIGxldCBbc21hbGxOdW1iZXIsIGJpZ051bWJlcl0gPSBbY3VycmVudFNlbGVjdGlvbi5hbmNob3JPZmZzZXQsIGN1cnJlbnRTZWxlY3Rpb24uZm9jdXNPZmZzZXRdLnNvcnQoKVxuICAgICAgbGV0IG9wID0gbmV3IFJlbW92ZVRleHRPcGVyYXRpb24oe1xuICAgICAgICByZW1vdmVTdGFydEluZGV4OiBzbWFsbE51bWJlciArIDEsXG4gICAgICAgIHJlbW92ZUVuZEluZGV4OiBiaWdOdW1iZXJcbiAgICAgIH0pXG4gICAgICB0aGlzLmFwcGx5KG9wKVxuICAgIH1cblxuICAgIC8vIOaPkuWFpeWGheWuuVxuICAgIGxldCBvcCA9IG5ldyBJbnNlcnRUZXh0T3BlcmF0aW9uKGN1cnJlbnRTZWxlY3Rpb24uYW5jaG9yT2Zmc2V0KzEsIHRleHQpXG4gICAgdGhpcy5hcHBseShvcClcblxuICAgIC8vIOiuvue9ruWFieagh+S9jee9rlxuICAgIGxldCBpbnNlcnRJbmRleCA9IHRoaXMuc2VsZWN0aW9uTW9kZWwuaXNTZWxlY3Rpb25BdExhc3QoKVxuICAgICAgPyB0aGlzLnRleHRNb2RlbC5fc3BhY2Vycy5sZW5ndGgrMSA6IGN1cnJlbnRTZWxlY3Rpb24uYW5jaG9yT2Zmc2V0ICsgMVxuICAgICAgbGV0IHNldFNlbGVjdGlvbk9wID0gbmV3IFNldFNlbGVjdGlvbk9wZXJhdGlvbihpbnNlcnRJbmRleClcbiAgICB0aGlzLmFwcGx5KHNldFNlbGVjdGlvbk9wKVxuICB9XG4gIHJlbW92ZVRleHRBdEN1cnNvcigpe1xuICAgIGNvbnN0IGN1cnJlbnRTZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbk1vZGVsLmdldFNlbGVjdGlvbigpXG5cbiAgICBpZihjdXJyZW50U2VsZWN0aW9uLmlzTXVsdGlwbGVTZWxlY3Qpe1xuICAgICAgLy8g5omn6KGM5Yig6Zmk5pON5L2cXG4gICAgICBsZXQgcmVtb3ZlT3AgPSBuZXcgUmVtb3ZlVGV4dE9wZXJhdGlvbih7XG4gICAgICAgIHJlbW92ZVN0YXJ0SW5kZXg6IGN1cnJlbnRTZWxlY3Rpb24uYW5jaG9yT2Zmc2V0KzEsXG4gICAgICAgIHJlbW92ZUVuZEluZGV4OiBjdXJyZW50U2VsZWN0aW9uLmZvY3VzT2Zmc2V0XG4gICAgICB9KVxuICAgICAgdGhpcy5hcHBseShyZW1vdmVPcClcblxuICAgICAgLy8g6K6+572u5YWJ5qCH5L2N572uXG4gICAgICBsZXQgc2V0U2VsZWN0aW9uT3AgPSBuZXcgU2V0U2VsZWN0aW9uT3BlcmF0aW9uKGN1cnJlbnRTZWxlY3Rpb24uYW5jaG9yT2Zmc2V0KVxuICAgICAgdGhpcy5hcHBseShzZXRTZWxlY3Rpb25PcClcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5omn6KGM5Yig6Zmk5pON5L2cXG4gICAgICBsZXQgcmVtb3ZlT3AgPSBuZXcgUmVtb3ZlVGV4dE9wZXJhdGlvbih7cmVtb3ZlU3RhcnRJbmRleDogY3VycmVudFNlbGVjdGlvbi5hbmNob3JPZmZzZXR9KVxuICAgICAgdGhpcy5hcHBseShyZW1vdmVPcClcblxuICAgICAgLy8g6K6+572u5YWJ5qCH5L2N572uXG4gICAgICBsZXQgc2V0U2VsZWN0aW9uT3AgPSBuZXcgU2V0U2VsZWN0aW9uT3BlcmF0aW9uKGN1cnJlbnRTZWxlY3Rpb24uYW5jaG9yT2Zmc2V0LTEpXG4gICAgICB0aGlzLmFwcGx5KHNldFNlbGVjdGlvbk9wKVxuICAgIH1cblxuXG5cbiAgfVxuXG4gIC8vIHRvZG8g5Li65LuA5LmI6KaB5pyJ6L+Z5Liq5pa55rOV77yf5LiN55u05o6lIHRoaXMuZWRpdG9yLnRleHRNb2RlbD9cbiAgZ2V0VGV4dE1vZGVsKCl7XG4gICAgcmV0dXJuIHRoaXMudGV4dE1vZGVsXG4gIH1cbiAgYXBwbHkob3A6IE9wZXJhdGlvbil7XG4gICAgb3AuYXBwbHkodGhpcylcbiAgfVxuICBzZXRBdHRyaWJ1dGVUb1RhcmdldCgpe1xuICAgIHRoaXMudGFyZ2V0LnN0eWxlWyd3aGl0ZS1zcGFjZSddID0gJ3ByZS13cmFwJ1xuICAgIHRoaXMudGFyZ2V0LnN0eWxlWydwYWRkaW5nJ10gPSAnMTBweCAyMHB4J1xuICAgIHRoaXMudGFyZ2V0LnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCAndHJ1ZScpXG4gIH1cbiAgYWRkQWRkdGlvbmFsRW1wdHlUZXh0VG9UYXJnZXQoKXtcbiAgICBsZXQgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlLmlubmVyVGV4dCA9IGAjJHt0aGlzLnRhcmdldC5pZH06OmFmdGVyIHsgY29udGVudDogJyAnOyB9YDtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0eWxlKVxuICB9XG4gIGFkZEFkZHRpb25hbENsYXNzTmFtZSgpe1xuICAgIGxldCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGUuaW5uZXJUZXh0ID0gYFxuICAgIC5yamotc291cmNlLWNvZGUtYW5kLXByZXZpZXd7ZGlzcGxheTpmbGV4fVxuICAgIC5yamotc291cmNlLWNvZGUtYW5kLXByZXZpZXctcHJldmlld2Vye2ZsZXg6IDF9XG4gICAgLnJqai1zb3VyY2UtY29kZS1hbmQtcHJldmlldy1jb2RlcntmbGV4OiAxfVxuICAgIGBcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0eWxlKVxuICB9XG5cblxufVxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yXG5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/editor/editor.ts\n");

/***/ }),

/***/ "./src/editor/index.ts":
/*!*****************************!*\
  !*** ./src/editor/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Editor\": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_0__.Editor)\n/* harmony export */ });\n/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor */ \"./src/editor/editor.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL3NyYy9lZGl0b3IvaW5kZXgudHM/MGE1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL2VkaXRvcic7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/editor/index.ts\n");

/***/ }),

/***/ "./src/event/index.ts":
/*!****************************!*\
  !*** ./src/event/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"KeyboardEventHandler\": () => (/* reexport safe */ _keyboard_event_handler__WEBPACK_IMPORTED_MODULE_0__.KeyboardEventHandler),\n/* harmony export */   \"SelectionchangeEventHandler\": () => (/* reexport safe */ _selection_change_event_handler__WEBPACK_IMPORTED_MODULE_1__.SelectionchangeEventHandler)\n/* harmony export */ });\n/* harmony import */ var _keyboard_event_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./keyboard-event-handler */ \"./src/event/keyboard-event-handler.ts\");\n/* harmony import */ var _selection_change_event_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selection-change-event-handler */ \"./src/event/selection-change-event-handler.ts\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXZlbnQvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5QztBQUNPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL3NyYy9ldmVudC9pbmRleC50cz9jYjQyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4va2V5Ym9hcmQtZXZlbnQtaGFuZGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NlbGVjdGlvbi1jaGFuZ2UtZXZlbnQtaGFuZGxlcidcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/event/index.ts\n");

/***/ }),

/***/ "./src/event/keyboard-event-handler.ts":
/*!*********************************************!*\
  !*** ./src/event/keyboard-event-handler.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"KeyboardEventHandler\": () => (/* binding */ KeyboardEventHandler),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass KeyboardEventHandler {\n    target;\n    editor;\n    isComposition = false; // 是否正在输入中文\n    timeId;\n    constructor(editor) {\n        this.target = editor.target;\n        this.editor = editor;\n    }\n    async _beforeInputHandler(e) {\n        const inputType = e.inputType;\n        console.log('_beforeInputHandler', e);\n        console.log(inputType);\n        e.preventDefault();\n        if (inputType === 'insertText') {\n            const text = e.data;\n            if (text) {\n                this.editor.insertTextAtCursor(text);\n            }\n        }\n        else if (inputType === 'deleteContentBackward') {\n            this.editor.removeTextAtCursor();\n        }\n        else if (inputType === 'insertParagraph') {\n            this.editor.insertTextAtCursor(\"\\n\");\n        }\n        else if (inputType === 'insertFromPaste') {\n            const textFromClipboard = await navigator.clipboard.readText();\n            this.editor.insertTextAtCursor(textFromClipboard);\n        }\n        else if (inputType === 'insertCompositionText') { // 用户输入中文\n            this.timeId = setTimeout(() => {\n                console.log('this.isComposition', this.isComposition);\n                if (this.isComposition) {\n                    return;\n                }\n                const text = e.data;\n                if (text) {\n                    console.log('需要插入的文本内容是', text);\n                    this.editor.insertTextAtCursor(text);\n                }\n                clearTimeout(this.timeId);\n            }, 0);\n        }\n    }\n    compositionstartHandler(e) {\n        console.log('compositionstartHandler', e);\n        this.isComposition = true;\n    }\n    compositionendHandler(e) {\n        console.log('compositionendHandler', e);\n        this.isComposition = false;\n    }\n    addEventListener() {\n        this.target.addEventListener('compositionstart', this.compositionstartHandler.bind(this));\n        this.target.addEventListener('compositionend', this.compositionendHandler.bind(this));\n        this.target.addEventListener('beforeinput', this._beforeInputHandler.bind(this)); // bind 的作用：将原本事件回调的this（触发元素）改成类的实例\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (KeyboardEventHandler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXZlbnQva2V5Ym9hcmQtZXZlbnQtaGFuZGxlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUVPLE1BQU0sb0JBQW9CO0lBQy9CLE1BQU0sQ0FBYTtJQUNuQixNQUFNLENBQVE7SUFDZCxhQUFhLEdBQVksS0FBSyxFQUFDLFdBQVc7SUFDMUMsTUFBTSxDQUFLO0lBRVgsWUFBWSxNQUFjO1FBQ3hCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU07UUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNO0lBQ3RCLENBQUM7SUFFTyxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBYTtRQUM3QyxNQUFNLFNBQVMsR0FBRyxDQUFDLENBQUMsU0FBUztRQUM3QixPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUFDLGNBQWMsRUFBRTtRQUNsQixJQUFJLFNBQVMsS0FBSyxZQUFZLEVBQUU7WUFDOUIsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUk7WUFDbkIsSUFBSSxJQUFJLEVBQUU7Z0JBQ1IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUM7YUFDckM7U0FDRjthQUFNLElBQUksU0FBUyxLQUFLLHVCQUF1QixFQUFFO1lBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsa0JBQWtCLEVBQUU7U0FDakM7YUFBTSxJQUFJLFNBQVMsS0FBSyxpQkFBaUIsRUFBRTtZQUMxQyxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQztTQUNyQzthQUFNLElBQUksU0FBUyxLQUFLLGlCQUFpQixFQUFFO1lBQzFDLE1BQU0saUJBQWlCLEdBQUcsTUFBTSxTQUFTLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQy9ELElBQUksQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUM7U0FDbEQ7YUFBTSxJQUFJLFNBQVMsS0FBSyx1QkFBdUIsRUFBQyxFQUFFLFNBQVM7WUFDMUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUMsR0FBRSxFQUFFO2dCQUMzQixPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDdEQsSUFBRyxJQUFJLENBQUMsYUFBYSxFQUFDO29CQUFDLE9BQU07aUJBQUM7Z0JBQzlCLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJO2dCQUNuQixJQUFHLElBQUksRUFBQztvQkFDTixPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztvQkFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUM7aUJBQ3JDO2dCQUNELFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQzNCLENBQUMsRUFBRSxDQUFDLENBQUM7U0FHTjtJQUNILENBQUM7SUFFTyx1QkFBdUIsQ0FBQyxDQUFZO1FBQzFDLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJO0lBQzNCLENBQUM7SUFDTyxxQkFBcUIsQ0FBQyxDQUFhO1FBQ3pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLO0lBQzVCLENBQUM7SUFFRCxnQkFBZ0I7UUFDZCxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXJGLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxvQ0FBb0M7SUFFdkgsQ0FBQztDQUNGO0FBQ0QsaUVBQWUsb0JBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL3NyYy9ldmVudC9rZXlib2FyZC1ldmVudC1oYW5kbGVyLnRzPzg4ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuLi9lZGl0b3JcIjtcblxuZXhwb3J0IGNsYXNzIEtleWJvYXJkRXZlbnRIYW5kbGVye1xuICB0YXJnZXQ6IEhUTUxFbGVtZW50XG4gIGVkaXRvcjogRWRpdG9yXG4gIGlzQ29tcG9zaXRpb246IGJvb2xlYW4gPSBmYWxzZSAvLyDmmK/lkKbmraPlnKjovpPlhaXkuK3mlodcbiAgdGltZUlkOiBhbnlcblxuICBjb25zdHJ1Y3RvcihlZGl0b3I6IEVkaXRvcikge1xuICAgIHRoaXMudGFyZ2V0ID0gZWRpdG9yLnRhcmdldFxuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yXG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9iZWZvcmVJbnB1dEhhbmRsZXIoZTogSW5wdXRFdmVudCkge1xuICAgIGNvbnN0IGlucHV0VHlwZSA9IGUuaW5wdXRUeXBlXG4gICAgY29uc29sZS5sb2coJ19iZWZvcmVJbnB1dEhhbmRsZXInLCBlKTtcbiAgICBjb25zb2xlLmxvZyhpbnB1dFR5cGUpO1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGlmIChpbnB1dFR5cGUgPT09ICdpbnNlcnRUZXh0Jykge1xuICAgICAgY29uc3QgdGV4dCA9IGUuZGF0YVxuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgdGhpcy5lZGl0b3IuaW5zZXJ0VGV4dEF0Q3Vyc29yKHRleHQpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbnB1dFR5cGUgPT09ICdkZWxldGVDb250ZW50QmFja3dhcmQnKSB7XG4gICAgICB0aGlzLmVkaXRvci5yZW1vdmVUZXh0QXRDdXJzb3IoKVxuICAgIH0gZWxzZSBpZiAoaW5wdXRUeXBlID09PSAnaW5zZXJ0UGFyYWdyYXBoJykge1xuICAgICAgdGhpcy5lZGl0b3IuaW5zZXJ0VGV4dEF0Q3Vyc29yKFwiXFxuXCIpXG4gICAgfSBlbHNlIGlmIChpbnB1dFR5cGUgPT09ICdpbnNlcnRGcm9tUGFzdGUnKSB7XG4gICAgICBjb25zdCB0ZXh0RnJvbUNsaXBib2FyZCA9IGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKTtcbiAgICAgIHRoaXMuZWRpdG9yLmluc2VydFRleHRBdEN1cnNvcih0ZXh0RnJvbUNsaXBib2FyZClcbiAgICB9IGVsc2UgaWYgKGlucHV0VHlwZSA9PT0gJ2luc2VydENvbXBvc2l0aW9uVGV4dCcpeyAvLyDnlKjmiLfovpPlhaXkuK3mlodcbiAgICAgIHRoaXMudGltZUlkID0gc2V0VGltZW91dCgoKT0+e1xuICAgICAgICBjb25zb2xlLmxvZygndGhpcy5pc0NvbXBvc2l0aW9uJywgdGhpcy5pc0NvbXBvc2l0aW9uKTtcbiAgICAgICAgaWYodGhpcy5pc0NvbXBvc2l0aW9uKXtyZXR1cm59XG4gICAgICAgIGNvbnN0IHRleHQgPSBlLmRhdGFcbiAgICAgICAgaWYodGV4dCl7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+mcgOimgeaPkuWFpeeahOaWh+acrOWGheWuueaYrycsIHRleHQpO1xuICAgICAgICAgIHRoaXMuZWRpdG9yLmluc2VydFRleHRBdEN1cnNvcih0ZXh0KVxuICAgICAgICB9XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVJZClcbiAgICAgIH0sIDApXG5cblxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29tcG9zaXRpb25zdGFydEhhbmRsZXIoZTpJbnB1dEV2ZW50KXtcbiAgICBjb25zb2xlLmxvZygnY29tcG9zaXRpb25zdGFydEhhbmRsZXInLCBlKTtcbiAgICB0aGlzLmlzQ29tcG9zaXRpb24gPSB0cnVlXG4gIH1cbiAgcHJpdmF0ZSBjb21wb3NpdGlvbmVuZEhhbmRsZXIoZTogSW5wdXRFdmVudCl7XG4gICAgY29uc29sZS5sb2coJ2NvbXBvc2l0aW9uZW5kSGFuZGxlcicsIGUpO1xuICAgIHRoaXMuaXNDb21wb3NpdGlvbiA9IGZhbHNlXG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKCl7XG4gICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25zdGFydCcsIHRoaXMuY29tcG9zaXRpb25zdGFydEhhbmRsZXIuYmluZCh0aGlzKSlcbiAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbmVuZCcsIHRoaXMuY29tcG9zaXRpb25lbmRIYW5kbGVyLmJpbmQodGhpcykpXG5cbiAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmVpbnB1dCcsIHRoaXMuX2JlZm9yZUlucHV0SGFuZGxlci5iaW5kKHRoaXMpKSAvLyBiaW5kIOeahOS9nOeUqO+8muWwhuWOn+acrOS6i+S7tuWbnuiwg+eahHRoaXPvvIjop6blj5HlhYPntKDvvInmlLnmiJDnsbvnmoTlrp7kvotcblxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBLZXlib2FyZEV2ZW50SGFuZGxlclxuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/event/keyboard-event-handler.ts\n");

/***/ }),

/***/ "./src/event/selection-change-event-handler.ts":
/*!*****************************************************!*\
  !*** ./src/event/selection-change-event-handler.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SelectionchangeEventHandler\": () => (/* binding */ SelectionchangeEventHandler),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _operation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../operation */ \"./src/operation/index.ts\");\n\nclass SelectionchangeEventHandler {\n    editor;\n    wantToMultipleChoice; // 用户想通过鼠标多选输入内容\n    anchorOffset; // 通过鼠标情况下多选内容，点击鼠标的位置\n    focusOffset; // 通过鼠标情况下多选内容，释放鼠标的位置\n    constructor(editor) {\n        this.init();\n        this.editor = editor;\n    }\n    _selectionchangeHandler(e) {\n        if (this.wantToMultipleChoice) {\n            return;\n        }\n        let selection = window.getSelection();\n        if (selection) {\n            const { anchorOffset, focusOffset } = window.getSelection();\n            let op = new _operation__WEBPACK_IMPORTED_MODULE_0__.SetSelectionOperation(anchorOffset, focusOffset);\n            op.apply(this.editor);\n        }\n    }\n    // 鼠标点击\n    _mouseDownHandler(e) {\n        setTimeout(() => {\n            let selection = window.getSelection();\n            if (selection) {\n                const { type, anchorOffset } = selection;\n                this.anchorOffset = anchorOffset;\n                this.wantToMultipleChoice = true;\n            }\n        }, 0);\n    }\n    // 鼠标释放\n    _mouseUpHandler(e) {\n        setTimeout(() => {\n            let selection = window.getSelection();\n            if (selection) {\n                const { type, focusOffset } = selection;\n                this.wantToMultipleChoice = false;\n                this.focusOffset = focusOffset;\n                const [smallNumber, bigNumber] = [this.anchorOffset, this.focusOffset].sort();\n                let op = new _operation__WEBPACK_IMPORTED_MODULE_0__.SetSelectionOperation(smallNumber, bigNumber);\n                op.apply(this.editor);\n            }\n        }, 0);\n    }\n    init() {\n        setTimeout(() => {\n            this.editor.target.addEventListener('mousedown', this._mouseDownHandler.bind(this));\n            this.editor.target.addEventListener('mouseup', this._mouseUpHandler.bind(this));\n            document.addEventListener('selectionchange', this._selectionchangeHandler.bind(this));\n        }, 0);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SelectionchangeEventHandler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXZlbnQvc2VsZWN0aW9uLWNoYW5nZS1ldmVudC1oYW5kbGVyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUNtRDtBQUc1QyxNQUFNLDJCQUEyQjtJQUN0QyxNQUFNLENBQVE7SUFDZCxvQkFBb0IsQ0FBUyxDQUFDLGdCQUFnQjtJQUM5QyxZQUFZLENBQVEsQ0FBQyxzQkFBc0I7SUFDM0MsV0FBVyxDQUFRLENBQUMsc0JBQXNCO0lBRTFDLFlBQVksTUFBYztRQUN4QixJQUFJLENBQUMsSUFBSSxFQUFFO1FBQ1gsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNO0lBQ3RCLENBQUM7SUFDRCx1QkFBdUIsQ0FBQyxDQUFNO1FBQzVCLElBQUcsSUFBSSxDQUFDLG9CQUFvQixFQUFDO1lBQUMsT0FBTTtTQUFDO1FBQ3JDLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQyxZQUFZLEVBQUU7UUFDckMsSUFBRyxTQUFTLEVBQUM7WUFDWCxNQUFNLEVBQUMsWUFBWSxFQUFFLFdBQVcsRUFBQyxHQUFHLE1BQU0sQ0FBQyxZQUFZLEVBQWU7WUFDdEUsSUFBSSxFQUFFLEdBQUcsSUFBSSw2REFBcUIsQ0FBQyxZQUFZLEVBQUUsV0FBVyxDQUFDO1lBQzdELEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUN0QjtJQUVILENBQUM7SUFFRCxPQUFPO0lBQ1AsaUJBQWlCLENBQUMsQ0FBYTtRQUM3QixVQUFVLENBQUMsR0FBRSxFQUFFO1lBQ2IsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFDLFlBQVksRUFBRTtZQUNyQyxJQUFHLFNBQVMsRUFBQztnQkFDWCxNQUFNLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxHQUFHLFNBQVM7Z0JBQ3hDLElBQUksQ0FBQyxZQUFZLEdBQUcsWUFBWTtnQkFDaEMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUk7YUFDakM7UUFDSCxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUNELE9BQU87SUFDUCxlQUFlLENBQUMsQ0FBYTtRQUMzQixVQUFVLENBQUMsR0FBRSxFQUFFO1lBQ2IsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFDLFlBQVksRUFBRTtZQUNyQyxJQUFHLFNBQVMsRUFBQztnQkFDWCxNQUFNLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxHQUFHLFNBQVM7Z0JBQ3ZDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxLQUFLO2dCQUNqQyxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVc7Z0JBQzlCLE1BQU0sQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLEVBQUU7Z0JBQzdFLElBQUksRUFBRSxHQUFHLElBQUksNkRBQXFCLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQztnQkFDMUQsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO2FBQ3RCO1FBQ0gsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxJQUFJO1FBQ0YsVUFBVSxDQUFDLEdBQUUsRUFBRTtZQUNiLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFFO1lBQ25GLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBRTtZQUUvRSxRQUFRLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2RixDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQUNGO0FBQ0QsaUVBQWUsMkJBQTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL3NyYy9ldmVudC9zZWxlY3Rpb24tY2hhbmdlLWV2ZW50LWhhbmRsZXIudHM/Y2NhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0VkaXRvcn0gZnJvbSBcIi4uL2VkaXRvclwiO1xuaW1wb3J0IHtTZXRTZWxlY3Rpb25PcGVyYXRpb259IGZyb20gXCIuLi9vcGVyYXRpb25cIjtcbmltcG9ydCB7ZGVib3VuY2V9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0aW9uY2hhbmdlRXZlbnRIYW5kbGVye1xuICBlZGl0b3I6IEVkaXRvclxuICB3YW50VG9NdWx0aXBsZUNob2ljZTogYm9vbGVhbiAvLyDnlKjmiLfmg7PpgJrov4fpvKDmoIflpJrpgInovpPlhaXlhoXlrrlcbiAgYW5jaG9yT2Zmc2V0OiBudW1iZXIgLy8g6YCa6L+H6byg5qCH5oOF5Ya15LiL5aSa6YCJ5YaF5a6577yM54K55Ye76byg5qCH55qE5L2N572uXG4gIGZvY3VzT2Zmc2V0OiBudW1iZXIgLy8g6YCa6L+H6byg5qCH5oOF5Ya15LiL5aSa6YCJ5YaF5a6577yM6YeK5pS+6byg5qCH55qE5L2N572uXG5cbiAgY29uc3RydWN0b3IoZWRpdG9yOiBFZGl0b3IpIHtcbiAgICB0aGlzLmluaXQoKVxuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yXG4gIH1cbiAgX3NlbGVjdGlvbmNoYW5nZUhhbmRsZXIoZTogYW55KXtcbiAgICBpZih0aGlzLndhbnRUb011bHRpcGxlQ2hvaWNlKXtyZXR1cm59XG4gICAgbGV0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKVxuICAgIGlmKHNlbGVjdGlvbil7XG4gICAgICBjb25zdCB7YW5jaG9yT2Zmc2V0LCBmb2N1c09mZnNldH0gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkgYXMgU2VsZWN0aW9uXG4gICAgICBsZXQgb3AgPSBuZXcgU2V0U2VsZWN0aW9uT3BlcmF0aW9uKGFuY2hvck9mZnNldCwgZm9jdXNPZmZzZXQpXG4gICAgICBvcC5hcHBseSh0aGlzLmVkaXRvcilcbiAgICB9XG5cbiAgfVxuXG4gIC8vIOm8oOagh+eCueWHu1xuICBfbW91c2VEb3duSGFuZGxlcihlOiBNb3VzZUV2ZW50KXtcbiAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICBsZXQgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpXG4gICAgICBpZihzZWxlY3Rpb24pe1xuICAgICAgICBjb25zdCB7IHR5cGUsIGFuY2hvck9mZnNldCB9ID0gc2VsZWN0aW9uXG4gICAgICAgIHRoaXMuYW5jaG9yT2Zmc2V0ID0gYW5jaG9yT2Zmc2V0XG4gICAgICAgIHRoaXMud2FudFRvTXVsdGlwbGVDaG9pY2UgPSB0cnVlXG4gICAgICB9XG4gICAgfSwgMClcblxuICB9XG4gIC8vIOm8oOagh+mHiuaUvlxuICBfbW91c2VVcEhhbmRsZXIoZTogTW91c2VFdmVudCl7XG4gICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgbGV0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKVxuICAgICAgaWYoc2VsZWN0aW9uKXtcbiAgICAgICAgY29uc3QgeyB0eXBlLCBmb2N1c09mZnNldCB9ID0gc2VsZWN0aW9uXG4gICAgICAgIHRoaXMud2FudFRvTXVsdGlwbGVDaG9pY2UgPSBmYWxzZVxuICAgICAgICB0aGlzLmZvY3VzT2Zmc2V0ID0gZm9jdXNPZmZzZXRcbiAgICAgICAgY29uc3QgW3NtYWxsTnVtYmVyLCBiaWdOdW1iZXJdID0gW3RoaXMuYW5jaG9yT2Zmc2V0LCB0aGlzLmZvY3VzT2Zmc2V0XS5zb3J0KClcbiAgICAgICAgbGV0IG9wID0gbmV3IFNldFNlbGVjdGlvbk9wZXJhdGlvbihzbWFsbE51bWJlciwgYmlnTnVtYmVyKVxuICAgICAgICBvcC5hcHBseSh0aGlzLmVkaXRvcilcbiAgICAgIH1cbiAgICB9LCAwKVxuICB9XG5cbiAgaW5pdCgpe1xuICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgIHRoaXMuZWRpdG9yLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLHRoaXMuX21vdXNlRG93bkhhbmRsZXIuYmluZCh0aGlzKSApXG4gICAgICB0aGlzLmVkaXRvci50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsdGhpcy5fbW91c2VVcEhhbmRsZXIuYmluZCh0aGlzKSApXG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGlvbmNoYW5nZScsIHRoaXMuX3NlbGVjdGlvbmNoYW5nZUhhbmRsZXIuYmluZCh0aGlzKSlcbiAgICB9LCAwKVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBTZWxlY3Rpb25jaGFuZ2VFdmVudEhhbmRsZXJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/event/selection-change-event-handler.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Editor\": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_0__.Editor),\n/* harmony export */   \"InsertTextOperation\": () => (/* reexport safe */ _operation__WEBPACK_IMPORTED_MODULE_2__.InsertTextOperation),\n/* harmony export */   \"KeyboardEventHandler\": () => (/* reexport safe */ _event__WEBPACK_IMPORTED_MODULE_4__.KeyboardEventHandler),\n/* harmony export */   \"SelectionModel\": () => (/* reexport safe */ _model__WEBPACK_IMPORTED_MODULE_1__.SelectionModel),\n/* harmony export */   \"SelectionchangeEventHandler\": () => (/* reexport safe */ _event__WEBPACK_IMPORTED_MODULE_4__.SelectionchangeEventHandler),\n/* harmony export */   \"SetSelectionOperation\": () => (/* reexport safe */ _operation__WEBPACK_IMPORTED_MODULE_2__.SetSelectionOperation),\n/* harmony export */   \"SourceCodeView\": () => (/* reexport safe */ _view__WEBPACK_IMPORTED_MODULE_3__.SourceCodeView),\n/* harmony export */   \"TextModel\": () => (/* reexport safe */ _model__WEBPACK_IMPORTED_MODULE_1__.TextModel)\n/* harmony export */ });\n/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor */ \"./src/editor/index.ts\");\n/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./model */ \"./src/model/index.ts\");\n/* harmony import */ var _operation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./operation */ \"./src/operation/index.ts\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./view */ \"./src/view/index.ts\");\n/* harmony import */ var _event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./event */ \"./src/event/index.ts\");\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUF5QjtBQUNEO0FBQ0k7QUFDTjtBQUNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL3NyYy9pbmRleC50cz9mZmI0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vZWRpdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vbW9kZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9vcGVyYXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi92aWV3J1xuZXhwb3J0ICogZnJvbSAnLi9ldmVudCdcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./src/markdown-parse/index.ts":
/*!*************************************!*\
  !*** ./src/markdown-parse/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"stringToPreview\": () => (/* binding */ stringToPreview)\n/* harmony export */ });\n// 输入： 123***456**789~123~456\n// 输出： 123*<strong>456</strong>789<del>123</del>\nfunction parseStrong(result) {\n    // result = ['123', '*', '*', '456', '*', '*', '789']\n    // 扩散字符串, 生成变更对象\n    let diffList = [];\n    result.forEach((itemString, index) => {\n        if (itemString !== '*') {\n            let diffObj = {\n                index: '',\n                count: 0\n            };\n            let preIndex = index - 1;\n            let nextIndex = index + 1;\n            let preChar = result[preIndex];\n            let nextChar = result[nextIndex];\n            while (preChar && nextChar) {\n                if (preChar === '*' && nextChar === '*') {\n                    diffObj.count += 1;\n                    // @ts-ignore\n                    diffObj.index = index;\n                }\n                preIndex -= 1;\n                nextIndex += 1;\n                preChar = result[preIndex];\n                nextChar = result[nextIndex];\n            }\n            if (diffObj.count) {\n                diffList.push(diffObj);\n            }\n        }\n    });\n    diffList.forEach((diffItem, index) => {\n        let step = 0;\n        while (Math.floor(diffItem.count / 2)) {\n            if (Math.floor(diffItem.count / 2)) {\n                // @ts-ignore\n                let preIndex1 = diffItem.index - 1 - step;\n                // @ts-ignore\n                let preIndex2 = diffItem.index - 2 - step;\n                let nextIndex1 = diffItem.index + 1 + step;\n                let nextIndex2 = diffItem.index + 2 + step;\n                let preChar1 = result[preIndex1];\n                let preChar2 = result[preIndex2];\n                let nextChar1 = result[nextIndex1];\n                let nextChar2 = result[nextIndex2];\n                if (preChar1 === '*' && preChar2 === '*' && nextChar1 === '*' && nextChar2 === '*') {\n                    result[preIndex2] = '<str';\n                    result[preIndex1] = 'ong>';\n                    result[nextIndex1] = '</str';\n                    result[nextIndex2] = 'ong>';\n                    step += 2;\n                }\n                diffItem.count -= 2;\n            }\n        }\n    });\n}\nfunction stringToPreview(test) {\n    let result = [];\n    for (let i = 0; i <= test.length - 1; i++) {\n        if (test[i] === '*') {\n            result.push(test[i]);\n        }\n        else {\n            let length;\n            if (result.length === 0) {\n                length = 0;\n            }\n            else {\n                length = result.length - 1;\n            }\n            if (result[length] === '*') {\n                length = result.length;\n            }\n            result[length] === undefined ? result[length] = test[i] : result[length] += test[i];\n        }\n    }\n    // result = ['123', '*', '*', '456', '*', '*', '789']\n    // 扩散字符串, 生成变更对象\n    // let diffList: {index: string, count: number  }[] = []\n    // result.forEach((itemString, index)=>{\n    //   if(itemString !== '*'){\n    //     let diffObj = {\n    //       index: '',\n    //       count: 0\n    //     }\n    //     let preIndex = index - 1\n    //     let nextIndex = index + 1\n    //     let preChar = result[preIndex]\n    //     let nextChar = result[nextIndex]\n    //     while(preChar && nextChar){\n    //       if(preChar === '*' && nextChar === '*'){\n    //         diffObj.count += 1\n    //         // @ts-ignore\n    //         diffObj.index = index\n    //       }\n    //       preIndex -= 1\n    //       nextIndex += 1\n    //       preChar = result[preIndex]\n    //       nextChar = result[nextIndex]\n    //     }\n    //     if(diffObj.count){\n    //       diffList.push(diffObj)\n    //     }\n    //   }\n    // })\n    //\n    // diffList.forEach((diffItem, index)=>{\n    //   let step = 0\n    //   while(Math.floor(diffItem.count/2)){\n    //\n    //     if(Math.floor(diffItem.count/2)){\n    //       // @ts-ignore\n    //       let preIndex1 = diffItem.index - 1 - step\n    //       // @ts-ignore\n    //       let preIndex2 = diffItem.index - 2 - step\n    //\n    //       let nextIndex1 = diffItem.index + 1 + step\n    //       let nextIndex2 = diffItem.index + 2 + step\n    //\n    //       let preChar1 = result[preIndex1]\n    //       let preChar2 = result[preIndex2]\n    //       let nextChar1 = result[nextIndex1]\n    //       let nextChar2 = result[nextIndex2]\n    //       if(preChar1 === '*' && preChar2 === '*' && nextChar1 === '*' && nextChar2 === '*'){\n    //\n    //         result[preIndex2] = '<str'\n    //         result[preIndex1] = 'ong>'\n    //\n    //         result[nextIndex1] = '</str'\n    //         result[nextIndex2] = 'ong>'\n    //         step += 2\n    //\n    //       }\n    //\n    //       diffItem.count -= 2\n    //\n    //\n    //     }\n    //   }\n    // })\n    parseStrong(result);\n    return result.join('');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VTtJQUNWLHNCQUFzQjtJQUN0Qix1QkFBdUI7SUFDdkIsbUNBQW1DO0lBQ25DLHFDQUFxQztJQUNyQyxRQUFRO0lBQ1IseUJBQXlCO0lBQ3pCLCtCQUErQjtJQUMvQixRQUFRO0lBQ1IsTUFBTTtJQUNOLEtBQUs7SUFDTCxFQUFFO0lBQ0Ysd0NBQXdDO0lBQ3hDLGlCQUFpQjtJQUNqQix5Q0FBeUM7SUFDekMsRUFBRTtJQUNGLHdDQUF3QztJQUN4QyxzQkFBc0I7SUFDdEIsa0RBQWtEO0lBQ2xELHNCQUFzQjtJQUN0QixrREFBa0Q7SUFDbEQsRUFBRTtJQUNGLG1EQUFtRDtJQUNuRCxtREFBbUQ7SUFDbkQsRUFBRTtJQUNGLHlDQUF5QztJQUN6Qyx5Q0FBeUM7SUFDekMsMkNBQTJDO0lBQzNDLDJDQUEyQztJQUMzQyw0RkFBNEY7SUFDNUYsRUFBRTtJQUNGLHFDQUFxQztJQUNyQyxxQ0FBcUM7SUFDckMsRUFBRTtJQUNGLHVDQUF1QztJQUN2QyxzQ0FBc0M7SUFDdEMsb0JBQW9CO0lBQ3BCLEVBQUU7SUFDRixVQUFVO0lBQ1YsRUFBRTtJQUNGLDRCQUE0QjtJQUM1QixFQUFFO0lBQ0YsRUFBRTtJQUNGLFFBQVE7SUFDUixNQUFNO0lBQ04sS0FBSztJQUNMLFdBQVcsQ0FBQyxNQUFNLENBQUM7SUFDbkIsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUN4QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL3NyYy9tYXJrZG93bi1wYXJzZS9pbmRleC50cz81MDU4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8g6L6T5YWl77yaIDEyMyoqKjQ1NioqNzg5fjEyM340NTZcbi8vIOi+k+WHuu+8miAxMjMqPHN0cm9uZz40NTY8L3N0cm9uZz43ODk8ZGVsPjEyMzwvZGVsPlxuZnVuY3Rpb24gcGFyc2VTdHJvbmcocmVzdWx0OiBzdHJpbmdbXSwgKXtcbiAgLy8gcmVzdWx0ID0gWycxMjMnLCAnKicsICcqJywgJzQ1NicsICcqJywgJyonLCAnNzg5J11cbiAgLy8g5omp5pWj5a2X56ym5LiyLCDnlJ/miJDlj5jmm7Tlr7nosaFcbiAgbGV0IGRpZmZMaXN0OiB7aW5kZXg6IHN0cmluZywgY291bnQ6IG51bWJlciAgfVtdID0gW11cbiAgcmVzdWx0LmZvckVhY2goKGl0ZW1TdHJpbmcsIGluZGV4KT0+e1xuICAgIGlmKGl0ZW1TdHJpbmcgIT09ICcqJyl7XG4gICAgICBsZXQgZGlmZk9iaiA9IHtcbiAgICAgICAgaW5kZXg6ICcnLFxuICAgICAgICBjb3VudDogMFxuICAgICAgfVxuICAgICAgbGV0IHByZUluZGV4ID0gaW5kZXggLSAxXG4gICAgICBsZXQgbmV4dEluZGV4ID0gaW5kZXggKyAxXG4gICAgICBsZXQgcHJlQ2hhciA9IHJlc3VsdFtwcmVJbmRleF1cbiAgICAgIGxldCBuZXh0Q2hhciA9IHJlc3VsdFtuZXh0SW5kZXhdXG4gICAgICB3aGlsZShwcmVDaGFyICYmIG5leHRDaGFyKXtcbiAgICAgICAgaWYocHJlQ2hhciA9PT0gJyonICYmIG5leHRDaGFyID09PSAnKicpe1xuICAgICAgICAgIGRpZmZPYmouY291bnQgKz0gMVxuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBkaWZmT2JqLmluZGV4ID0gaW5kZXhcbiAgICAgICAgfVxuICAgICAgICBwcmVJbmRleCAtPSAxXG4gICAgICAgIG5leHRJbmRleCArPSAxXG4gICAgICAgIHByZUNoYXIgPSByZXN1bHRbcHJlSW5kZXhdXG4gICAgICAgIG5leHRDaGFyID0gcmVzdWx0W25leHRJbmRleF1cbiAgICAgIH1cbiAgICAgIGlmKGRpZmZPYmouY291bnQpe1xuICAgICAgICBkaWZmTGlzdC5wdXNoKGRpZmZPYmopXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIGRpZmZMaXN0LmZvckVhY2goKGRpZmZJdGVtLCBpbmRleCk9PntcbiAgICBsZXQgc3RlcCA9IDBcbiAgICB3aGlsZShNYXRoLmZsb29yKGRpZmZJdGVtLmNvdW50LzIpKXtcblxuICAgICAgaWYoTWF0aC5mbG9vcihkaWZmSXRlbS5jb3VudC8yKSl7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbGV0IHByZUluZGV4MSA9IGRpZmZJdGVtLmluZGV4IC0gMSAtIHN0ZXBcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBsZXQgcHJlSW5kZXgyID0gZGlmZkl0ZW0uaW5kZXggLSAyIC0gc3RlcFxuXG4gICAgICAgIGxldCBuZXh0SW5kZXgxID0gZGlmZkl0ZW0uaW5kZXggKyAxICsgc3RlcFxuICAgICAgICBsZXQgbmV4dEluZGV4MiA9IGRpZmZJdGVtLmluZGV4ICsgMiArIHN0ZXBcblxuICAgICAgICBsZXQgcHJlQ2hhcjEgPSByZXN1bHRbcHJlSW5kZXgxXVxuICAgICAgICBsZXQgcHJlQ2hhcjIgPSByZXN1bHRbcHJlSW5kZXgyXVxuICAgICAgICBsZXQgbmV4dENoYXIxID0gcmVzdWx0W25leHRJbmRleDFdXG4gICAgICAgIGxldCBuZXh0Q2hhcjIgPSByZXN1bHRbbmV4dEluZGV4Ml1cbiAgICAgICAgaWYocHJlQ2hhcjEgPT09ICcqJyAmJiBwcmVDaGFyMiA9PT0gJyonICYmIG5leHRDaGFyMSA9PT0gJyonICYmIG5leHRDaGFyMiA9PT0gJyonKXtcblxuICAgICAgICAgIHJlc3VsdFtwcmVJbmRleDJdID0gJzxzdHInXG4gICAgICAgICAgcmVzdWx0W3ByZUluZGV4MV0gPSAnb25nPidcblxuICAgICAgICAgIHJlc3VsdFtuZXh0SW5kZXgxXSA9ICc8L3N0cidcbiAgICAgICAgICByZXN1bHRbbmV4dEluZGV4Ml0gPSAnb25nPidcbiAgICAgICAgICBzdGVwICs9IDJcblxuICAgICAgICB9XG5cbiAgICAgICAgZGlmZkl0ZW0uY291bnQgLT0gMlxuXG5cbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9QcmV2aWV3KHRlc3Q6IHN0cmluZyl7XG4gIGxldCByZXN1bHQ6IHN0cmluZ1tdID0gW11cbiAgZm9yKGxldCBpPTA7aTw9dGVzdC5sZW5ndGggLSAxO2krKyl7XG4gICAgaWYodGVzdFtpXSA9PT0gJyonKXtcbiAgICAgIHJlc3VsdC5wdXNoKHRlc3RbaV0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBsZW5ndGhcbiAgICAgIGlmKHJlc3VsdC5sZW5ndGggPT09IDApe1xuICAgICAgICBsZW5ndGggPSAwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoIC0gMVxuICAgICAgfVxuICAgICAgaWYocmVzdWx0W2xlbmd0aF0gPT09ICcqJyl7XG4gICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGhcbiAgICAgIH1cbiAgICAgIHJlc3VsdFtsZW5ndGhdID09PSB1bmRlZmluZWQgPyByZXN1bHRbbGVuZ3RoXSA9IHRlc3RbaV0gIDogcmVzdWx0W2xlbmd0aF0gKz0gdGVzdFtpXVxuICAgIH1cbiAgfVxuXG5cblxuICAvLyByZXN1bHQgPSBbJzEyMycsICcqJywgJyonLCAnNDU2JywgJyonLCAnKicsICc3ODknXVxuICAvLyDmianmlaPlrZfnrKbkuLIsIOeUn+aIkOWPmOabtOWvueixoVxuICAvLyBsZXQgZGlmZkxpc3Q6IHtpbmRleDogc3RyaW5nLCBjb3VudDogbnVtYmVyICB9W10gPSBbXVxuICAvLyByZXN1bHQuZm9yRWFjaCgoaXRlbVN0cmluZywgaW5kZXgpPT57XG4gIC8vICAgaWYoaXRlbVN0cmluZyAhPT0gJyonKXtcbiAgLy8gICAgIGxldCBkaWZmT2JqID0ge1xuICAvLyAgICAgICBpbmRleDogJycsXG4gIC8vICAgICAgIGNvdW50OiAwXG4gIC8vICAgICB9XG4gIC8vICAgICBsZXQgcHJlSW5kZXggPSBpbmRleCAtIDFcbiAgLy8gICAgIGxldCBuZXh0SW5kZXggPSBpbmRleCArIDFcbiAgLy8gICAgIGxldCBwcmVDaGFyID0gcmVzdWx0W3ByZUluZGV4XVxuICAvLyAgICAgbGV0IG5leHRDaGFyID0gcmVzdWx0W25leHRJbmRleF1cbiAgLy8gICAgIHdoaWxlKHByZUNoYXIgJiYgbmV4dENoYXIpe1xuICAvLyAgICAgICBpZihwcmVDaGFyID09PSAnKicgJiYgbmV4dENoYXIgPT09ICcqJyl7XG4gIC8vICAgICAgICAgZGlmZk9iai5jb3VudCArPSAxXG4gIC8vICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAvLyAgICAgICAgIGRpZmZPYmouaW5kZXggPSBpbmRleFxuICAvLyAgICAgICB9XG4gIC8vICAgICAgIHByZUluZGV4IC09IDFcbiAgLy8gICAgICAgbmV4dEluZGV4ICs9IDFcbiAgLy8gICAgICAgcHJlQ2hhciA9IHJlc3VsdFtwcmVJbmRleF1cbiAgLy8gICAgICAgbmV4dENoYXIgPSByZXN1bHRbbmV4dEluZGV4XVxuICAvLyAgICAgfVxuICAvLyAgICAgaWYoZGlmZk9iai5jb3VudCl7XG4gIC8vICAgICAgIGRpZmZMaXN0LnB1c2goZGlmZk9iailcbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH0pXG4gIC8vXG4gIC8vIGRpZmZMaXN0LmZvckVhY2goKGRpZmZJdGVtLCBpbmRleCk9PntcbiAgLy8gICBsZXQgc3RlcCA9IDBcbiAgLy8gICB3aGlsZShNYXRoLmZsb29yKGRpZmZJdGVtLmNvdW50LzIpKXtcbiAgLy9cbiAgLy8gICAgIGlmKE1hdGguZmxvb3IoZGlmZkl0ZW0uY291bnQvMikpe1xuICAvLyAgICAgICAvLyBAdHMtaWdub3JlXG4gIC8vICAgICAgIGxldCBwcmVJbmRleDEgPSBkaWZmSXRlbS5pbmRleCAtIDEgLSBzdGVwXG4gIC8vICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgLy8gICAgICAgbGV0IHByZUluZGV4MiA9IGRpZmZJdGVtLmluZGV4IC0gMiAtIHN0ZXBcbiAgLy9cbiAgLy8gICAgICAgbGV0IG5leHRJbmRleDEgPSBkaWZmSXRlbS5pbmRleCArIDEgKyBzdGVwXG4gIC8vICAgICAgIGxldCBuZXh0SW5kZXgyID0gZGlmZkl0ZW0uaW5kZXggKyAyICsgc3RlcFxuICAvL1xuICAvLyAgICAgICBsZXQgcHJlQ2hhcjEgPSByZXN1bHRbcHJlSW5kZXgxXVxuICAvLyAgICAgICBsZXQgcHJlQ2hhcjIgPSByZXN1bHRbcHJlSW5kZXgyXVxuICAvLyAgICAgICBsZXQgbmV4dENoYXIxID0gcmVzdWx0W25leHRJbmRleDFdXG4gIC8vICAgICAgIGxldCBuZXh0Q2hhcjIgPSByZXN1bHRbbmV4dEluZGV4Ml1cbiAgLy8gICAgICAgaWYocHJlQ2hhcjEgPT09ICcqJyAmJiBwcmVDaGFyMiA9PT0gJyonICYmIG5leHRDaGFyMSA9PT0gJyonICYmIG5leHRDaGFyMiA9PT0gJyonKXtcbiAgLy9cbiAgLy8gICAgICAgICByZXN1bHRbcHJlSW5kZXgyXSA9ICc8c3RyJ1xuICAvLyAgICAgICAgIHJlc3VsdFtwcmVJbmRleDFdID0gJ29uZz4nXG4gIC8vXG4gIC8vICAgICAgICAgcmVzdWx0W25leHRJbmRleDFdID0gJzwvc3RyJ1xuICAvLyAgICAgICAgIHJlc3VsdFtuZXh0SW5kZXgyXSA9ICdvbmc+J1xuICAvLyAgICAgICAgIHN0ZXAgKz0gMlxuICAvL1xuICAvLyAgICAgICB9XG4gIC8vXG4gIC8vICAgICAgIGRpZmZJdGVtLmNvdW50IC09IDJcbiAgLy9cbiAgLy9cbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH0pXG4gIHBhcnNlU3Ryb25nKHJlc3VsdClcbiAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/markdown-parse/index.ts\n");

/***/ }),

/***/ "./src/model/index.ts":
/*!****************************!*\
  !*** ./src/model/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SelectionModel\": () => (/* reexport safe */ _selection_model__WEBPACK_IMPORTED_MODULE_0__.SelectionModel),\n/* harmony export */   \"TextModel\": () => (/* reexport safe */ _text_model__WEBPACK_IMPORTED_MODULE_1__.TextModel)\n/* harmony export */ });\n/* harmony import */ var _selection_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./selection-model */ \"./src/model/selection-model.ts\");\n/* harmony import */ var _text_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text-model */ \"./src/model/text-model.ts\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZWwvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrQztBQUNMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL3NyYy9tb2RlbC9pbmRleC50cz8zZGVmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vc2VsZWN0aW9uLW1vZGVsJztcbmV4cG9ydCAqIGZyb20gJy4vdGV4dC1tb2RlbCc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/index.ts\n");

/***/ }),

/***/ "./src/model/selection-model.ts":
/*!**************************************!*\
  !*** ./src/model/selection-model.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SelectionModel\": () => (/* binding */ SelectionModel),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _view_source_code_and_preview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/source-code-and-preview */ \"./src/view/source-code-and-preview.ts\");\n\nclass SelectionModel {\n    editor;\n    anchorOffset;\n    focusOffset;\n    constructor(editor) {\n        this.editor = editor;\n        this.anchorOffset = 0; // 点击鼠标的位置\n        this.focusOffset = 0; // 释放鼠标的位置\n    }\n    getSelection() {\n        return {\n            anchorOffset: this.anchorOffset,\n            focusOffset: this.focusOffset,\n            isMultipleSelect: this.isMultipleSelect()\n        };\n    }\n    setSelection(anchorOffset, focusOffset) {\n        if (this.anchorOffset === anchorOffset && this.focusOffset === focusOffset) {\n            return;\n        }\n        this.anchorOffset = anchorOffset;\n        this.focusOffset = focusOffset === undefined ? anchorOffset : focusOffset;\n        let node;\n        if (this.editor.view instanceof _view_source_code_and_preview__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n            let nodeList = this.editor.target.childNodes;\n            node = nodeList[0].childNodes[0];\n        }\n        else {\n            let nodeList = this.editor.target.childNodes;\n            node = nodeList[nodeList.length - 1];\n        }\n        this.editor.view.renderSelection(node, anchorOffset, focusOffset);\n    }\n    // 判断是否多选\n    isMultipleSelect() {\n        return this.anchorOffset !== this.focusOffset;\n    }\n    // 光标处于编辑内容末尾\n    isSelectionAtLast() {\n        return this.editor.getTextModel()._spacers.length === this.focusOffset;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SelectionModel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZWwvc2VsZWN0aW9uLW1vZGVsLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUNtRTtBQUU1RCxNQUFNLGNBQWM7SUFDekIsTUFBTSxDQUFRO0lBQ2QsWUFBWSxDQUFRO0lBQ3BCLFdBQVcsQ0FBUTtJQUNuQixZQUFZLE1BQWM7UUFDeEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNO1FBQ3BCLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxFQUFDLFVBQVU7UUFDaEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLEVBQUUsVUFBVTtJQUNsQyxDQUFDO0lBRUQsWUFBWTtRQUNWLE9BQU87WUFDTCxZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVk7WUFDL0IsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXO1lBQzdCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtTQUMxQztJQUNILENBQUM7SUFFRCxZQUFZLENBQUMsWUFBb0IsRUFBRSxXQUFvQjtRQUNyRCxJQUFHLElBQUksQ0FBQyxZQUFZLEtBQUssWUFBWSxJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssV0FBVyxFQUFDO1lBQUMsT0FBTTtTQUFDO1FBQ2xGLElBQUksQ0FBQyxZQUFZLEdBQUcsWUFBWTtRQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsV0FBVztRQUUxRSxJQUFJLElBQUk7UUFDUixJQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxZQUFZLHFFQUFvQixFQUFDO1lBQ2xELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVU7WUFDNUMsSUFBSSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1NBQ2pDO2FBQU07WUFDTCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVO1lBQzVDLElBQUksR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7U0FDckM7UUFFRCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLFlBQVksRUFBRSxXQUFXLENBQUM7SUFDbkUsQ0FBQztJQUVELFNBQVM7SUFDVCxnQkFBZ0I7UUFDZCxPQUFPLElBQUksQ0FBQyxZQUFZLEtBQUssSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUNoRCxDQUFDO0lBRUQsYUFBYTtJQUNiLGlCQUFpQjtRQUNmLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDekUsQ0FBQztDQUNGO0FBQ0QsaUVBQWUsY0FBYyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1lZGl0b3ItbWFya2Rvd24vLi9zcmMvbW9kZWwvc2VsZWN0aW9uLW1vZGVsLnRzP2JlZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuLi9lZGl0b3JcIjtcbmltcG9ydCBTb3VyY2VDb2RlQW5kUHJldmlldyBmcm9tIFwiLi4vdmlldy9zb3VyY2UtY29kZS1hbmQtcHJldmlld1wiO1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0aW9uTW9kZWx7XG4gIGVkaXRvcjogRWRpdG9yXG4gIGFuY2hvck9mZnNldDogbnVtYmVyXG4gIGZvY3VzT2Zmc2V0OiBudW1iZXJcbiAgY29uc3RydWN0b3IoZWRpdG9yOiBFZGl0b3IpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvclxuICAgIHRoaXMuYW5jaG9yT2Zmc2V0ID0gMCAvLyDngrnlh7vpvKDmoIfnmoTkvY3nva5cbiAgICB0aGlzLmZvY3VzT2Zmc2V0ID0gMCAgLy8g6YeK5pS+6byg5qCH55qE5L2N572uXG4gIH1cblxuICBnZXRTZWxlY3Rpb24oKXtcbiAgICByZXR1cm4ge1xuICAgICAgYW5jaG9yT2Zmc2V0OiB0aGlzLmFuY2hvck9mZnNldCxcbiAgICAgIGZvY3VzT2Zmc2V0OiB0aGlzLmZvY3VzT2Zmc2V0LFxuICAgICAgaXNNdWx0aXBsZVNlbGVjdDogdGhpcy5pc011bHRpcGxlU2VsZWN0KClcbiAgICB9XG4gIH1cblxuICBzZXRTZWxlY3Rpb24oYW5jaG9yT2Zmc2V0OiBudW1iZXIsIGZvY3VzT2Zmc2V0PzogbnVtYmVyKXtcbiAgICBpZih0aGlzLmFuY2hvck9mZnNldCA9PT0gYW5jaG9yT2Zmc2V0ICYmIHRoaXMuZm9jdXNPZmZzZXQgPT09IGZvY3VzT2Zmc2V0KXtyZXR1cm59XG4gICAgdGhpcy5hbmNob3JPZmZzZXQgPSBhbmNob3JPZmZzZXRcbiAgICB0aGlzLmZvY3VzT2Zmc2V0ID0gZm9jdXNPZmZzZXQgPT09IHVuZGVmaW5lZCA/ICBhbmNob3JPZmZzZXQgOiBmb2N1c09mZnNldFxuXG4gICAgbGV0IG5vZGVcbiAgICBpZih0aGlzLmVkaXRvci52aWV3IGluc3RhbmNlb2YgU291cmNlQ29kZUFuZFByZXZpZXcpe1xuICAgICAgbGV0IG5vZGVMaXN0ID0gdGhpcy5lZGl0b3IudGFyZ2V0LmNoaWxkTm9kZXNcbiAgICAgIG5vZGUgPSBub2RlTGlzdFswXS5jaGlsZE5vZGVzWzBdXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBub2RlTGlzdCA9IHRoaXMuZWRpdG9yLnRhcmdldC5jaGlsZE5vZGVzXG4gICAgICBub2RlID0gbm9kZUxpc3Rbbm9kZUxpc3QubGVuZ3RoIC0gMV1cbiAgICB9XG5cbiAgICB0aGlzLmVkaXRvci52aWV3LnJlbmRlclNlbGVjdGlvbihub2RlLCBhbmNob3JPZmZzZXQsIGZvY3VzT2Zmc2V0KVxuICB9XG5cbiAgLy8g5Yik5pat5piv5ZCm5aSa6YCJXG4gIGlzTXVsdGlwbGVTZWxlY3QoKXtcbiAgICByZXR1cm4gdGhpcy5hbmNob3JPZmZzZXQgIT09IHRoaXMuZm9jdXNPZmZzZXQ7XG4gIH1cblxuICAvLyDlhYnmoIflpITkuo7nvJbovpHlhoXlrrnmnKvlsL5cbiAgaXNTZWxlY3Rpb25BdExhc3QoKXtcbiAgICByZXR1cm4gdGhpcy5lZGl0b3IuZ2V0VGV4dE1vZGVsKCkuX3NwYWNlcnMubGVuZ3RoID09PSB0aGlzLmZvY3VzT2Zmc2V0O1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBTZWxlY3Rpb25Nb2RlbFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/selection-model.ts\n");

/***/ }),

/***/ "./src/model/text-model.ts":
/*!*********************************!*\
  !*** ./src/model/text-model.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TextModel\": () => (/* binding */ TextModel),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass TextModel {\n    editor;\n    _spacers;\n    constructor(editor) {\n        this.editor = editor;\n        this._spacers = editor.target.innerHTML;\n    }\n    // 注意：假设现有 abcd ，那么想在末尾新增e，index 应该是5， spacers应该是e，即起始index === 1\n    insert(index, spacers) {\n        this._spacers = this._spacers.slice(0, index - 1) + spacers + this._spacers.slice(index - 1);\n        // todo 这里要发送事件 text-change 给view 层，让view 层更新视图，也就说，如何去定义一个自定义的事件？\n        // todo 为什么不直接在model 层，调用view 层的render 方法，也就是说，事件发布订阅与直接调用函数这两种通信方式，使用场景是什么？\n        this.editor.view.render();\n    }\n    // 注意：假设现有 abcd ，那么想在删除 bc ,那么 removeStartIndex 应该是 2， removeEndIndex 应该是 3\n    remove(removeStartIndex, removeEndIndex) {\n        console.log('removeStartIndex', removeStartIndex);\n        console.log('removeEndIndex', removeEndIndex);\n        let removeString = this._spacers.slice(removeStartIndex, removeStartIndex + 1);\n        this._spacers = this._spacers.slice(0, removeStartIndex - 1) + this._spacers.slice(removeEndIndex);\n        this.editor.view.render();\n        return removeString;\n    }\n    getAllSpacers() {\n        return this._spacers;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TextModel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZWwvdGV4dC1tb2RlbC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUVPLE1BQU0sU0FBUztJQUNwQixNQUFNLENBQVE7SUFDZCxRQUFRLENBQVE7SUFFaEIsWUFBWSxNQUFjO1FBQ3hCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTTtRQUNwQixJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUztJQUN6QyxDQUFDO0lBQ0QsaUVBQWlFO0lBQ2pFLE1BQU0sQ0FBQyxLQUFhLEVBQUUsT0FBZTtRQUNuQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFFNUYsa0VBQWtFO1FBQ2xFLDRFQUE0RTtRQUM1RSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7SUFDM0IsQ0FBQztJQUNELDJFQUEyRTtJQUUzRSxNQUFNLENBQUMsZ0JBQXdCLEVBQUUsY0FBdUI7UUFDdEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ2xELE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFFOUMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO1FBQzlFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLGdCQUFnQixHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQztRQUNsRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7UUFDekIsT0FBTyxZQUFZO0lBQ3JCLENBQUM7SUFDRCxhQUFhO1FBQ1gsT0FBTyxJQUFJLENBQUMsUUFBUTtJQUN0QixDQUFDO0NBQ0Y7QUFDRCxpRUFBZSxTQUFTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL3NyYy9tb2RlbC90ZXh0LW1vZGVsLnRzP2FkMGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuLi9lZGl0b3JcIjtcblxuZXhwb3J0IGNsYXNzIFRleHRNb2RlbHtcbiAgZWRpdG9yOiBFZGl0b3JcbiAgX3NwYWNlcnM6IHN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKGVkaXRvcjogRWRpdG9yKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3JcbiAgICB0aGlzLl9zcGFjZXJzID0gZWRpdG9yLnRhcmdldC5pbm5lckhUTUxcbiAgfVxuICAvLyDms6jmhI/vvJrlgYforr7njrDmnIkgYWJjZCDvvIzpgqPkuYjmg7PlnKjmnKvlsL7mlrDlop5l77yMaW5kZXgg5bqU6K+l5pivNe+8jCBzcGFjZXJz5bqU6K+l5pivZe+8jOWNs+i1t+Wni2luZGV4ID09PSAxXG4gIGluc2VydChpbmRleDogbnVtYmVyLCBzcGFjZXJzOiBzdHJpbmcpe1xuICAgIHRoaXMuX3NwYWNlcnMgPSB0aGlzLl9zcGFjZXJzLnNsaWNlKDAsIGluZGV4IC0gMSkgKyBzcGFjZXJzICsgdGhpcy5fc3BhY2Vycy5zbGljZShpbmRleCAtIDEpXG5cbiAgICAvLyB0b2RvIOi/memHjOimgeWPkemAgeS6i+S7tiB0ZXh0LWNoYW5nZSDnu5l2aWV3IOWxgu+8jOiuqXZpZXcg5bGC5pu05paw6KeG5Zu+77yM5Lmf5bCx6K+077yM5aaC5L2V5Y675a6a5LmJ5LiA5Liq6Ieq5a6a5LmJ55qE5LqL5Lu277yfXG4gICAgLy8gdG9kbyDkuLrku4DkuYjkuI3nm7TmjqXlnKhtb2RlbCDlsYLvvIzosIPnlKh2aWV3IOWxgueahHJlbmRlciDmlrnms5XvvIzkuZ/lsLHmmK/or7TvvIzkuovku7blj5HluIPorqLpmIXkuI7nm7TmjqXosIPnlKjlh73mlbDov5nkuKTnp43pgJrkv6HmlrnlvI/vvIzkvb/nlKjlnLrmma/mmK/ku4DkuYjvvJ9cbiAgICB0aGlzLmVkaXRvci52aWV3LnJlbmRlcigpXG4gIH1cbiAgLy8g5rOo5oSP77ya5YGH6K6+546w5pyJIGFiY2Qg77yM6YKj5LmI5oOz5Zyo5Yig6ZmkIGJjICzpgqPkuYggcmVtb3ZlU3RhcnRJbmRleCDlupTor6XmmK8gMu+8jCByZW1vdmVFbmRJbmRleCDlupTor6XmmK8gM1xuXG4gIHJlbW92ZShyZW1vdmVTdGFydEluZGV4OiBudW1iZXIsIHJlbW92ZUVuZEluZGV4PzogbnVtYmVyKTogc3RyaW5ne1xuICAgIGNvbnNvbGUubG9nKCdyZW1vdmVTdGFydEluZGV4JywgcmVtb3ZlU3RhcnRJbmRleCk7XG4gICAgY29uc29sZS5sb2coJ3JlbW92ZUVuZEluZGV4JywgcmVtb3ZlRW5kSW5kZXgpO1xuXG4gICAgbGV0IHJlbW92ZVN0cmluZyA9IHRoaXMuX3NwYWNlcnMuc2xpY2UocmVtb3ZlU3RhcnRJbmRleCwgcmVtb3ZlU3RhcnRJbmRleCArIDEpXG4gICAgdGhpcy5fc3BhY2VycyA9IHRoaXMuX3NwYWNlcnMuc2xpY2UoMCwgcmVtb3ZlU3RhcnRJbmRleCAtIDEpICsgdGhpcy5fc3BhY2Vycy5zbGljZShyZW1vdmVFbmRJbmRleClcbiAgICB0aGlzLmVkaXRvci52aWV3LnJlbmRlcigpXG4gICAgcmV0dXJuIHJlbW92ZVN0cmluZ1xuICB9XG4gIGdldEFsbFNwYWNlcnMoKXtcbiAgICByZXR1cm4gdGhpcy5fc3BhY2Vyc1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBUZXh0TW9kZWxcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/text-model.ts\n");

/***/ }),

/***/ "./src/operation/index.ts":
/*!********************************!*\
  !*** ./src/operation/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InsertTextOperation\": () => (/* reexport safe */ _insert_text_opeation__WEBPACK_IMPORTED_MODULE_0__.InsertTextOperation),\n/* harmony export */   \"SetSelectionOperation\": () => (/* reexport safe */ _set_selection_operation__WEBPACK_IMPORTED_MODULE_1__.SetSelectionOperation)\n/* harmony export */ });\n/* harmony import */ var _insert_text_opeation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./insert-text-opeation */ \"./src/operation/insert-text-opeation.ts\");\n/* harmony import */ var _set_selection_operation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./set-selection-operation */ \"./src/operation/set-selection-operation.ts\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb3BlcmF0aW9uL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBc0M7QUFDRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1lZGl0b3ItbWFya2Rvd24vLi9zcmMvb3BlcmF0aW9uL2luZGV4LnRzPzI4NWMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9pbnNlcnQtdGV4dC1vcGVhdGlvbidcbmV4cG9ydCAqIGZyb20gJy4vc2V0LXNlbGVjdGlvbi1vcGVyYXRpb24nXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/operation/index.ts\n");

/***/ }),

/***/ "./src/operation/insert-text-opeation.ts":
/*!***********************************************!*\
  !*** ./src/operation/insert-text-opeation.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InsertTextOperation\": () => (/* binding */ InsertTextOperation),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _operation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./operation */ \"./src/operation/operation.ts\");\n\nclass InsertTextOperation extends _operation__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    spacers;\n    insertIndex;\n    constructor(index, spacers) {\n        super();\n        this.spacers = spacers;\n        this.insertIndex = index;\n    }\n    apply(editor) {\n        editor.textModel.insert(this.insertIndex, this.spacers);\n        super.apply(editor); // 调用 operation 的公共apply 方法\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InsertTextOperation);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb3BlcmF0aW9uL2luc2VydC10ZXh0LW9wZWF0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvQztBQUk3QixNQUFNLG1CQUFvQixTQUFRLGtEQUFTO0lBQ2hELE9BQU8sQ0FBUTtJQUNmLFdBQVcsQ0FBUTtJQUVuQixZQUFZLEtBQWEsRUFBRSxPQUFlO1FBQ3hDLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPO1FBQ3RCLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSztJQUMxQixDQUFDO0lBQ0QsS0FBSyxDQUFDLE1BQWM7UUFDbEIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ3ZELEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUMsMkJBQTJCO0lBQ2pELENBQUM7Q0FDRjtBQUNELGlFQUFlLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1lZGl0b3ItbWFya2Rvd24vLi9zcmMvb3BlcmF0aW9uL2luc2VydC10ZXh0LW9wZWF0aW9uLnRzP2Q5N2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9wZXJhdGlvbiBmcm9tIFwiLi9vcGVyYXRpb25cIjtcbmltcG9ydCB7RWRpdG9yfSBmcm9tIFwiLi4vZWRpdG9yXCI7XG5pbXBvcnQge1RleHRNb2RlbH0gZnJvbSBcIi4uL21vZGVsXCI7XG5cbmV4cG9ydCBjbGFzcyBJbnNlcnRUZXh0T3BlcmF0aW9uIGV4dGVuZHMgT3BlcmF0aW9ue1xuICBzcGFjZXJzOiBzdHJpbmdcbiAgaW5zZXJ0SW5kZXg6IG51bWJlclxuXG4gIGNvbnN0cnVjdG9yKGluZGV4OiBudW1iZXIsIHNwYWNlcnM6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zcGFjZXJzID0gc3BhY2Vyc1xuICAgIHRoaXMuaW5zZXJ0SW5kZXggPSBpbmRleFxuICB9XG4gIGFwcGx5KGVkaXRvcjogRWRpdG9yKXtcbiAgICBlZGl0b3IudGV4dE1vZGVsLmluc2VydCh0aGlzLmluc2VydEluZGV4LCB0aGlzLnNwYWNlcnMpXG4gICAgc3VwZXIuYXBwbHkoZWRpdG9yKSAvLyDosIPnlKggb3BlcmF0aW9uIOeahOWFrOWFsWFwcGx5IOaWueazlVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBJbnNlcnRUZXh0T3BlcmF0aW9uXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/operation/insert-text-opeation.ts\n");

/***/ }),

/***/ "./src/operation/operation.ts":
/*!************************************!*\
  !*** ./src/operation/operation.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Operation)\n/* harmony export */ });\nclass Operation {\n    apply(editor) {\n        // todo 可以接入后端\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb3BlcmF0aW9uL29wZXJhdGlvbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBRWUsTUFBTSxTQUFTO0lBQzVCLEtBQUssQ0FBQyxNQUFjO1FBQ2xCLGNBQWM7SUFDaEIsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL3NyYy9vcGVyYXRpb24vb3BlcmF0aW9uLnRzP2E4MDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuLi9lZGl0b3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlcmF0aW9ue1xuICBhcHBseShlZGl0b3I6IEVkaXRvcil7XG4gICAgLy8gdG9kbyDlj6/ku6XmjqXlhaXlkI7nq69cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/operation/operation.ts\n");

/***/ }),

/***/ "./src/operation/remove-text-operation.ts":
/*!************************************************!*\
  !*** ./src/operation/remove-text-operation.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RemoveTextOperation\": () => (/* binding */ RemoveTextOperation),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _operation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./operation */ \"./src/operation/operation.ts\");\n\nclass RemoveTextOperation extends _operation__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    removeStartIndex;\n    removeSpacers;\n    removeEndIndex;\n    constructor(obj) {\n        super();\n        const { removeStartIndex, removeEndIndex, removeSpacers } = obj;\n        this.removeStartIndex = removeStartIndex;\n        this.removeEndIndex = removeEndIndex === undefined ? removeStartIndex : removeEndIndex;\n        if (removeSpacers !== undefined) {\n            this.removeSpacers = removeSpacers;\n        }\n    }\n    apply(editor) {\n        let removeSpacers = editor.textModel.remove(this.removeStartIndex, this.removeEndIndex);\n        this.removeSpacers = removeSpacers;\n        super.apply(editor);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveTextOperation);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb3BlcmF0aW9uL3JlbW92ZS10ZXh0LW9wZXJhdGlvbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0M7QUFHN0IsTUFBTSxtQkFBb0IsU0FBUSxrREFBUztJQUNoRCxnQkFBZ0IsQ0FBUTtJQUN4QixhQUFhLENBQVE7SUFDckIsY0FBYyxDQUFRO0lBR3RCLFlBQVksR0FBa0Y7UUFDNUYsS0FBSyxFQUFFLENBQUM7UUFDUixNQUFNLEVBQUMsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLGFBQWEsRUFBQyxHQUFHLEdBQUc7UUFDN0QsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGdCQUFnQjtRQUN4QyxJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxjQUFjO1FBQ3RGLElBQUcsYUFBYSxLQUFLLFNBQVMsRUFBQztZQUM3QixJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWE7U0FDbkM7SUFDSCxDQUFDO0lBQ0QsS0FBSyxDQUFDLE1BQWM7UUFDbEIsSUFBSSxhQUFhLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUM7UUFDdkYsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhO1FBQ2xDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7Q0FDRjtBQUNELGlFQUFlLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1lZGl0b3ItbWFya2Rvd24vLi9zcmMvb3BlcmF0aW9uL3JlbW92ZS10ZXh0LW9wZXJhdGlvbi50cz85NzEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPcGVyYXRpb24gZnJvbSBcIi4vb3BlcmF0aW9uXCI7XG5pbXBvcnQge0VkaXRvcn0gZnJvbSBcIi4uL2VkaXRvclwiO1xuXG5leHBvcnQgY2xhc3MgUmVtb3ZlVGV4dE9wZXJhdGlvbiBleHRlbmRzIE9wZXJhdGlvbntcbiAgcmVtb3ZlU3RhcnRJbmRleDogbnVtYmVyXG4gIHJlbW92ZVNwYWNlcnM6IHN0cmluZ1xuICByZW1vdmVFbmRJbmRleDogbnVtYmVyXG5cblxuICBjb25zdHJ1Y3RvcihvYmo6IHsgcmVtb3ZlU3RhcnRJbmRleDogbnVtYmVyLCByZW1vdmVFbmRJbmRleD86IG51bWJlciwgcmVtb3ZlU3BhY2Vycz86IHN0cmluZyB9KSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCB7cmVtb3ZlU3RhcnRJbmRleCwgcmVtb3ZlRW5kSW5kZXgsIHJlbW92ZVNwYWNlcnN9ID0gb2JqXG4gICAgdGhpcy5yZW1vdmVTdGFydEluZGV4ID0gcmVtb3ZlU3RhcnRJbmRleFxuICAgIHRoaXMucmVtb3ZlRW5kSW5kZXggPSByZW1vdmVFbmRJbmRleCA9PT0gdW5kZWZpbmVkID8gcmVtb3ZlU3RhcnRJbmRleCA6IHJlbW92ZUVuZEluZGV4XG4gICAgaWYocmVtb3ZlU3BhY2VycyAhPT0gdW5kZWZpbmVkKXtcbiAgICAgIHRoaXMucmVtb3ZlU3BhY2VycyA9IHJlbW92ZVNwYWNlcnNcbiAgICB9XG4gIH1cbiAgYXBwbHkoZWRpdG9yOiBFZGl0b3Ipe1xuICAgIGxldCByZW1vdmVTcGFjZXJzID0gZWRpdG9yLnRleHRNb2RlbC5yZW1vdmUodGhpcy5yZW1vdmVTdGFydEluZGV4LCB0aGlzLnJlbW92ZUVuZEluZGV4KVxuICAgIHRoaXMucmVtb3ZlU3BhY2VycyA9IHJlbW92ZVNwYWNlcnNcbiAgICBzdXBlci5hcHBseShlZGl0b3IpXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFJlbW92ZVRleHRPcGVyYXRpb25cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/operation/remove-text-operation.ts\n");

/***/ }),

/***/ "./src/operation/set-selection-operation.ts":
/*!**************************************************!*\
  !*** ./src/operation/set-selection-operation.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SetSelectionOperation\": () => (/* binding */ SetSelectionOperation),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _operation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./operation */ \"./src/operation/operation.ts\");\n\nclass SetSelectionOperation extends _operation__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    anchorOffset;\n    focusOffset;\n    constructor(anchorOffset, focusOffset) {\n        super();\n        this.anchorOffset = anchorOffset;\n        this.focusOffset = focusOffset;\n    }\n    apply(editor) {\n        editor.selectionModel.setSelection(this.anchorOffset, this.focusOffset);\n        super.apply(editor);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetSelectionOperation);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb3BlcmF0aW9uL3NldC1zZWxlY3Rpb24tb3BlcmF0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUNvQztBQUU3QixNQUFNLHFCQUFzQixTQUFRLGtEQUFTO0lBQ2xELFlBQVksQ0FBUTtJQUNwQixXQUFXLENBQVM7SUFDcEIsWUFBWSxZQUFvQixFQUFFLFdBQW1CO1FBQ25ELEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZO1FBQ2hDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVztJQUNoQyxDQUFDO0lBQ0QsS0FBSyxDQUFDLE1BQWM7UUFDbEIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3ZFLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7Q0FDRjtBQUNELGlFQUFlLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1lZGl0b3ItbWFya2Rvd24vLi9zcmMvb3BlcmF0aW9uL3NldC1zZWxlY3Rpb24tb3BlcmF0aW9uLnRzPzA5ZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuLi9lZGl0b3JcIjtcbmltcG9ydCBPcGVyYXRpb24gZnJvbSBcIi4vb3BlcmF0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBTZXRTZWxlY3Rpb25PcGVyYXRpb24gZXh0ZW5kcyBPcGVyYXRpb257XG4gIGFuY2hvck9mZnNldDogbnVtYmVyXG4gIGZvY3VzT2Zmc2V0PzogbnVtYmVyXG4gIGNvbnN0cnVjdG9yKGFuY2hvck9mZnNldDogbnVtYmVyLCBmb2N1c09mZnNldD86bnVtYmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmFuY2hvck9mZnNldCA9IGFuY2hvck9mZnNldFxuICAgIHRoaXMuZm9jdXNPZmZzZXQgPSBmb2N1c09mZnNldFxuICB9XG4gIGFwcGx5KGVkaXRvcjogRWRpdG9yKXtcbiAgICBlZGl0b3Iuc2VsZWN0aW9uTW9kZWwuc2V0U2VsZWN0aW9uKHRoaXMuYW5jaG9yT2Zmc2V0LCB0aGlzLmZvY3VzT2Zmc2V0KVxuICAgIHN1cGVyLmFwcGx5KGVkaXRvcilcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgU2V0U2VsZWN0aW9uT3BlcmF0aW9uXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/operation/set-selection-operation.ts\n");

/***/ }),

/***/ "./src/plugin/index.ts":
/*!*****************************!*\
  !*** ./src/plugin/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"withUndo\": () => (/* binding */ withUndo)\n/* harmony export */ });\n/* harmony import */ var _operation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../operation */ \"./src/operation/index.ts\");\n/* harmony import */ var _operation_remove_text_operation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../operation/remove-text-operation */ \"./src/operation/remove-text-operation.ts\");\n\n\nfunction withUndo(editor) {\n    const userOpList = []; // 用户操作历史记录\n    const actualOpList = []; // 实际历史记录\n    let apply = editor.apply.bind(editor); // todo 理清楚为什么要 bind this\n    // const withEditor = {...editor} as WithUndoEditor\n    // 为 editor 对象新增 undo 相关函数\n    // 重写 editor.apply 函数，并且追加一些代码\n    editor.apply = (op, isUndo) => {\n        apply(op);\n        if (op instanceof _operation__WEBPACK_IMPORTED_MODULE_0__.InsertTextOperation || op instanceof _operation_remove_text_operation__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n            !isUndo && userOpList.push(op); // 如果是回退操作，不会被记录到用户实际操作中\n            actualOpList.push(op);\n        }\n    };\n    // 新增 undo 函数\n    editor.undo = () => {\n        const latestOp = userOpList.pop();\n        if (latestOp) {\n            const newOp = editor.getInverseOp(latestOp);\n            editor.apply(newOp, true);\n        }\n    };\n    // 新增 undo 函数\n    editor.getInverseOp = (operation) => {\n        let newOp;\n        if (operation instanceof _operation__WEBPACK_IMPORTED_MODULE_0__.InsertTextOperation) {\n            newOp = new _operation_remove_text_operation__WEBPACK_IMPORTED_MODULE_1__[\"default\"](operation.insertIndex, operation.spacers);\n        }\n        else if (operation instanceof _operation_remove_text_operation__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n            newOp = new _operation__WEBPACK_IMPORTED_MODULE_0__.InsertTextOperation(operation.removeStartIndex, operation.removeSpacers);\n        }\n        else {\n            throw new Error(\"op错误\");\n        }\n        return newOp;\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2luL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUdpRDtBQUNvQjtBQU85RCxTQUFTLFFBQVEsQ0FBQyxNQUFjO0lBQ3JDLE1BQU0sVUFBVSxHQUFnQixFQUFFLEVBQUMsV0FBVztJQUM5QyxNQUFNLFlBQVksR0FBZ0IsRUFBRSxFQUFDLFNBQVM7SUFDOUMsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUMseUJBQXlCO0lBQy9ELG1EQUFtRDtJQUVuRCwwQkFBMEI7SUFFMUIsOEJBQThCO0lBQzlCLE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFZLEVBQUUsTUFBZ0IsRUFBQyxFQUFFO1FBQy9DLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDVCxJQUFHLEVBQUUsWUFBWSwyREFBbUIsSUFBSSxFQUFFLFlBQVksd0VBQW1CLEVBQUM7WUFDeEUsQ0FBQyxNQUFNLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBQyx3QkFBd0I7WUFDdkQsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7U0FDdEI7SUFDSCxDQUFDO0lBQ0QsYUFBYTtJQUNiLE1BQU0sQ0FBQyxJQUFJLEdBQUcsR0FBRSxFQUFFO1FBQ2hCLE1BQU0sUUFBUSxHQUFHLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDakMsSUFBRyxRQUFRLEVBQUM7WUFDVixNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQztZQUMzQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUM7U0FDMUI7SUFDSCxDQUFDO0lBQ0QsYUFBYTtJQUNiLE1BQU0sQ0FBQyxZQUFZLEdBQUcsQ0FBQyxTQUFvQixFQUFDLEVBQUU7UUFDNUMsSUFBSSxLQUFLO1FBQ1QsSUFBRyxTQUFTLFlBQVksMkRBQW1CLEVBQUM7WUFDMUMsS0FBSyxHQUFHLElBQUksd0VBQW1CLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsT0FBTyxDQUFDO1NBQzFFO2FBQU0sSUFBSSxTQUFTLFlBQVksd0VBQW1CLEVBQUM7WUFDbEQsS0FBSyxHQUFHLElBQUksMkRBQW1CLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxhQUFhLENBQUM7U0FDckY7YUFBTTtZQUNMLE1BQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDO1NBQ3hCO1FBQ0QsT0FBTyxLQUFLO0lBQ2QsQ0FBQztJQUNELE9BQU8sTUFBd0I7QUFDakMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1lZGl0b3ItbWFya2Rvd24vLi9zcmMvcGx1Z2luL2luZGV4LnRzPzY0ZjkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLW5vY2hlY2sgdG9kbyDlsJ3or5XliKDpmaTov5nkuKpcbmltcG9ydCB7RWRpdG9yfSBmcm9tIFwiLi4vZWRpdG9yXCI7XG5pbXBvcnQgT3BlcmF0aW9uIGZyb20gXCIuLi9vcGVyYXRpb24vb3BlcmF0aW9uXCI7XG5pbXBvcnQge0luc2VydFRleHRPcGVyYXRpb259IGZyb20gXCIuLi9vcGVyYXRpb25cIjtcbmltcG9ydCBSZW1vdmVUZXh0T3BlcmF0aW9uIGZyb20gXCIuLi9vcGVyYXRpb24vcmVtb3ZlLXRleHQtb3BlcmF0aW9uXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2l0aFVuZG9FZGl0b3IgZXh0ZW5kcyBFZGl0b3Ige1xuICBhcHBseTogKG9wOk9wZXJhdGlvbiwgaXNVbmRvPzogYm9vbGVhbik9PnZvaWQ7XG4gIHVuZG86ICgpPT52b2lkXG4gIGdldEludmVyc2VPcDogKG9wOiBPcGVyYXRpb24pPT5PcGVyYXRpb25cbn1cbmV4cG9ydCBmdW5jdGlvbiB3aXRoVW5kbyhlZGl0b3I6IEVkaXRvcik6IFdpdGhVbmRvRWRpdG9ye1xuICBjb25zdCB1c2VyT3BMaXN0OiBPcGVyYXRpb25bXSA9IFtdIC8vIOeUqOaIt+aTjeS9nOWOhuWPsuiusOW9lVxuICBjb25zdCBhY3R1YWxPcExpc3Q6IE9wZXJhdGlvbltdID0gW10gLy8g5a6e6ZmF5Y6G5Y+y6K6w5b2VXG4gIGxldCBhcHBseSA9IGVkaXRvci5hcHBseS5iaW5kKGVkaXRvcikgLy8gdG9kbyDnkIbmuIXmpZrkuLrku4DkuYjopoEgYmluZCB0aGlzXG4gIC8vIGNvbnN0IHdpdGhFZGl0b3IgPSB7Li4uZWRpdG9yfSBhcyBXaXRoVW5kb0VkaXRvclxuXG4gIC8vIOS4uiBlZGl0b3Ig5a+56LGh5paw5aKeIHVuZG8g55u45YWz5Ye95pWwXG5cbiAgLy8g6YeN5YaZIGVkaXRvci5hcHBseSDlh73mlbDvvIzlubbkuJTov73liqDkuIDkupvku6PnoIFcbiAgZWRpdG9yLmFwcGx5ID0gKG9wOk9wZXJhdGlvbiwgaXNVbmRvPzogYm9vbGVhbik9PntcbiAgICBhcHBseShvcClcbiAgICBpZihvcCBpbnN0YW5jZW9mIEluc2VydFRleHRPcGVyYXRpb24gfHwgb3AgaW5zdGFuY2VvZiBSZW1vdmVUZXh0T3BlcmF0aW9uKXtcbiAgICAgICFpc1VuZG8gJiYgdXNlck9wTGlzdC5wdXNoKG9wKSAvLyDlpoLmnpzmmK/lm57pgIDmk43kvZzvvIzkuI3kvJrooqvorrDlvZXliLDnlKjmiLflrp7pmYXmk43kvZzkuK1cbiAgICAgIGFjdHVhbE9wTGlzdC5wdXNoKG9wKVxuICAgIH1cbiAgfVxuICAvLyDmlrDlop4gdW5kbyDlh73mlbBcbiAgZWRpdG9yLnVuZG8gPSAoKT0+e1xuICAgIGNvbnN0IGxhdGVzdE9wID0gdXNlck9wTGlzdC5wb3AoKVxuICAgIGlmKGxhdGVzdE9wKXtcbiAgICAgIGNvbnN0IG5ld09wID0gZWRpdG9yLmdldEludmVyc2VPcChsYXRlc3RPcClcbiAgICAgIGVkaXRvci5hcHBseShuZXdPcCwgdHJ1ZSlcbiAgICB9XG4gIH1cbiAgLy8g5paw5aKeIHVuZG8g5Ye95pWwXG4gIGVkaXRvci5nZXRJbnZlcnNlT3AgPSAob3BlcmF0aW9uOiBPcGVyYXRpb24pPT57XG4gICAgbGV0IG5ld09wXG4gICAgaWYob3BlcmF0aW9uIGluc3RhbmNlb2YgSW5zZXJ0VGV4dE9wZXJhdGlvbil7XG4gICAgICBuZXdPcCA9IG5ldyBSZW1vdmVUZXh0T3BlcmF0aW9uKG9wZXJhdGlvbi5pbnNlcnRJbmRleCwgb3BlcmF0aW9uLnNwYWNlcnMpXG4gICAgfSBlbHNlIGlmIChvcGVyYXRpb24gaW5zdGFuY2VvZiBSZW1vdmVUZXh0T3BlcmF0aW9uKXtcbiAgICAgIG5ld09wID0gbmV3IEluc2VydFRleHRPcGVyYXRpb24ob3BlcmF0aW9uLnJlbW92ZVN0YXJ0SW5kZXgsIG9wZXJhdGlvbi5yZW1vdmVTcGFjZXJzKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvcOmUmeivr1wiKVxuICAgIH1cbiAgICByZXR1cm4gbmV3T3BcbiAgfVxuICByZXR1cm4gZWRpdG9yIGFzIFdpdGhVbmRvRWRpdG9yXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugin/index.ts\n");

/***/ }),

/***/ "./src/view/index.ts":
/*!***************************!*\
  !*** ./src/view/index.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SourceCodeView\": () => (/* reexport safe */ _source_code_view__WEBPACK_IMPORTED_MODULE_0__.SourceCodeView)\n/* harmony export */ });\n/* harmony import */ var _source_code_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./source-code-view */ \"./src/view/source-code-view.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlldy9pbmRleC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1lZGl0b3ItbWFya2Rvd24vLi9zcmMvdmlldy9pbmRleC50cz8wNDY1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL3NvdXJjZS1jb2RlLXZpZXdcIlxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/view/index.ts\n");

/***/ }),

/***/ "./src/view/source-code-and-preview.ts":
/*!*********************************************!*\
  !*** ./src/view/source-code-and-preview.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SourceCodeAndPreview)\n/* harmony export */ });\n/* harmony import */ var _source_code_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./source-code-view */ \"./src/view/source-code-view.ts\");\n/* harmony import */ var _markdown_parse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../markdown-parse */ \"./src/markdown-parse/index.ts\");\n\n\nclass SourceCodeAndPreview extends _source_code_view__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(editor) {\n        super(editor);\n    }\n    render() {\n        this.target.classList.add('rjj-source-code-and-preview');\n        let text = this.textModel.getAllSpacers() + '\\n';\n        this.target.innerHTML = `<div class=\"rjj-source-code-and-preview-coder\" contenteditable>${text}</div><div class=\"rjj-source-code-and-preview-previewer\">${(0,_markdown_parse__WEBPACK_IMPORTED_MODULE_1__.stringToPreview)(text)}</div>`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlldy9zb3VyY2UtY29kZS1hbmQtcHJldmlldy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0Q7QUFFRTtBQUVuQyxNQUFNLG9CQUFxQixTQUFRLHlEQUFjO0lBQzlELFlBQVksTUFBYztRQUN4QixLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDaEIsQ0FBQztJQUNELE1BQU07UUFDSixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsNkJBQTZCLENBQUM7UUFDeEQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLEVBQUUsR0FBRyxJQUFJO1FBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxHQUFHLGtFQUFrRSxJQUFJLDREQUE0RCxnRUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRO0lBQ3pMLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1lZGl0b3ItbWFya2Rvd24vLi9zcmMvdmlldy9zb3VyY2UtY29kZS1hbmQtcHJldmlldy50cz9mYjcxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTb3VyY2VDb2RlVmlldyBmcm9tIFwiLi9zb3VyY2UtY29kZS12aWV3XCI7XG5pbXBvcnQge0VkaXRvcn0gZnJvbSBcIi4uL2VkaXRvclwiO1xuaW1wb3J0IHtzdHJpbmdUb1ByZXZpZXd9IGZyb20gXCIuLi9tYXJrZG93bi1wYXJzZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb3VyY2VDb2RlQW5kUHJldmlldyBleHRlbmRzIFNvdXJjZUNvZGVWaWV3e1xuICBjb25zdHJ1Y3RvcihlZGl0b3I6IEVkaXRvcikge1xuICAgIHN1cGVyKGVkaXRvcik7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3Jqai1zb3VyY2UtY29kZS1hbmQtcHJldmlldycpXG4gICAgbGV0IHRleHQgPSB0aGlzLnRleHRNb2RlbC5nZXRBbGxTcGFjZXJzKCkgKyAnXFxuJ1xuICAgIHRoaXMudGFyZ2V0LmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwicmpqLXNvdXJjZS1jb2RlLWFuZC1wcmV2aWV3LWNvZGVyXCIgY29udGVudGVkaXRhYmxlPiR7dGV4dH08L2Rpdj48ZGl2IGNsYXNzPVwicmpqLXNvdXJjZS1jb2RlLWFuZC1wcmV2aWV3LXByZXZpZXdlclwiPiR7c3RyaW5nVG9QcmV2aWV3KHRleHQpfTwvZGl2PmBcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/view/source-code-and-preview.ts\n");

/***/ }),

/***/ "./src/view/source-code-view.ts":
/*!**************************************!*\
  !*** ./src/view/source-code-view.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SourceCodeView\": () => (/* binding */ SourceCodeView),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass SourceCodeView {\n    textModel;\n    selctionModel;\n    target;\n    constructor(editor) {\n        this.textModel = editor.textModel;\n        this.selctionModel = editor.selectionModel;\n        this.target = editor.target;\n    }\n    render() {\n        this.target.innerHTML = this.textModel.getAllSpacers() + '\\n';\n    }\n    renderSelection(node, anchorOffset, focusOffset) {\n        let range = document.createRange();\n        let selection = window.getSelection();\n        if (selection && node) {\n            anchorOffset !== undefined && range.setStart(node, anchorOffset);\n            focusOffset !== undefined && range.setEnd(node, focusOffset);\n            selection.removeAllRanges();\n            selection.addRange(range);\n        }\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SourceCodeView);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlldy9zb3VyY2UtY29kZS12aWV3LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBR08sTUFBTSxjQUFjO0lBQ3pCLFNBQVMsQ0FBVztJQUNwQixhQUFhLENBQWdCO0lBQzdCLE1BQU0sQ0FBYTtJQUNuQixZQUFZLE1BQWM7UUFDeEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsU0FBUztRQUNqQyxJQUFJLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQyxjQUFjO1FBQzFDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU07SUFDN0IsQ0FBQztJQUNELE1BQU07UUFDSixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsRUFBRSxHQUFHLElBQUk7SUFDL0QsQ0FBQztJQUNELGVBQWUsQ0FBQyxJQUFVLEVBQUUsWUFBb0IsRUFBRSxXQUFvQjtRQUNwRSxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsV0FBVyxFQUFFO1FBQ2xDLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQyxZQUFZLEVBQUU7UUFDckMsSUFBRyxTQUFTLElBQUksSUFBSSxFQUFDO1lBQ25CLFlBQVksS0FBSyxTQUFTLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDO1lBQ2hFLFdBQVcsS0FBSyxTQUFTLElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDO1lBQzVELFNBQVMsQ0FBQyxlQUFlLEVBQUU7WUFDM0IsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7U0FDMUI7SUFDSCxDQUFDO0NBRUY7QUFDRCxpRUFBZSxjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWVkaXRvci1tYXJrZG93bi8uL3NyYy92aWV3L3NvdXJjZS1jb2RlLXZpZXcudHM/Mjc0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NlbGVjdGlvbk1vZGVsLCBUZXh0TW9kZWx9IGZyb20gXCIuLi9tb2RlbFwiO1xuaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuLi9lZGl0b3JcIjtcblxuZXhwb3J0IGNsYXNzIFNvdXJjZUNvZGVWaWV3e1xuICB0ZXh0TW9kZWw6IFRleHRNb2RlbFxuICBzZWxjdGlvbk1vZGVsOiBTZWxlY3Rpb25Nb2RlbFxuICB0YXJnZXQ6IEhUTUxFbGVtZW50XG4gIGNvbnN0cnVjdG9yKGVkaXRvcjogRWRpdG9yKSB7XG4gICAgdGhpcy50ZXh0TW9kZWwgPSBlZGl0b3IudGV4dE1vZGVsXG4gICAgdGhpcy5zZWxjdGlvbk1vZGVsID0gZWRpdG9yLnNlbGVjdGlvbk1vZGVsXG4gICAgdGhpcy50YXJnZXQgPSBlZGl0b3IudGFyZ2V0XG4gIH1cbiAgcmVuZGVyKCl7XG4gICAgdGhpcy50YXJnZXQuaW5uZXJIVE1MID0gdGhpcy50ZXh0TW9kZWwuZ2V0QWxsU3BhY2VycygpICsgJ1xcbidcbiAgfVxuICByZW5kZXJTZWxlY3Rpb24obm9kZTogTm9kZSwgYW5jaG9yT2Zmc2V0OiBudW1iZXIsIGZvY3VzT2Zmc2V0PzogbnVtYmVyKXtcbiAgICBsZXQgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpXG4gICAgbGV0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKVxuICAgIGlmKHNlbGVjdGlvbiAmJiBub2RlKXtcbiAgICAgIGFuY2hvck9mZnNldCAhPT0gdW5kZWZpbmVkICYmIHJhbmdlLnNldFN0YXJ0KG5vZGUsIGFuY2hvck9mZnNldClcbiAgICAgIGZvY3VzT2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgcmFuZ2Uuc2V0RW5kKG5vZGUsIGZvY3VzT2Zmc2V0KVxuICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpXG4gICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpXG4gICAgfVxuICB9XG5cbn1cbmV4cG9ydCBkZWZhdWx0IFNvdXJjZUNvZGVWaWV3XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/view/source-code-view.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./demo/index.ts");
/******/ 	
/******/ })()
;